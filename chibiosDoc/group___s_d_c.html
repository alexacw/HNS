<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ChibiOS/HAL: SDC Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/HAL
   &#160;<span id="projectnumber">6.0.0</span>
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___s_d_c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SDC Driver<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a> &raquo; <a class="el" href="group___h_a_l___n_o_r_m_a_l___d_r_i_v_e_r_s.html">Normal Drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic SD Card Driver.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for SDC Driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___s_d_c.png" border="0" alt="" usemap="#group______s__d__c"/>
<map name="group______s__d__c" id="group______s__d__c">
<area shape="rect" id="node2" href="group___h_a_l___n_o_r_m_a_l___d_r_i_v_e_r_s.html" title="HAL Normal Drivers. " alt="" coords="5,5,100,29"/>
</map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Generic SD Card Driver. </p>
<p>This module implements a generic SDC (Secure Digital Card) driver. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use the SDC driver the <code>HAL_USE_SDC</code> option must be enabled in <code>halconf.h</code>.</dd></dl>
<h1><a class="anchor" id="sdc_1"></a>
Driver State Machine</h1>
<p>This driver implements a state machine internally, see the <a class="el" href="group___i_o___b_l_o_c_k.html">Abstract I/O Block Device</a> module documentation for details.</p>
<h1><a class="anchor" id="sdc_2"></a>
Driver Operations</h1>
<p>This driver allows to read or write single or multiple 512 bytes blocks on a SD Card. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
SD card types</h2></td></tr>
<tr class="memitem:ga39cc42ca9e2c97127741f5ab30cb41dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga39cc42ca9e2c97127741f5ab30cb41dc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_MODE_CARDTYPE_MASK</b>&#160;&#160;&#160;0xFU</td></tr>
<tr class="separator:ga39cc42ca9e2c97127741f5ab30cb41dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61f3a0b8bd82857756b464d1fc510183"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga61f3a0b8bd82857756b464d1fc510183"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_MODE_CARDTYPE_SDV11</b>&#160;&#160;&#160;0U</td></tr>
<tr class="separator:ga61f3a0b8bd82857756b464d1fc510183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79b77d64761625aca0cfb44e4a0c1688"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga79b77d64761625aca0cfb44e4a0c1688"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_MODE_CARDTYPE_SDV20</b>&#160;&#160;&#160;1U</td></tr>
<tr class="separator:ga79b77d64761625aca0cfb44e4a0c1688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga482efe647270c66c7ae2e6f83d864f2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga482efe647270c66c7ae2e6f83d864f2e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_MODE_CARDTYPE_MMC</b>&#160;&#160;&#160;2U</td></tr>
<tr class="separator:ga482efe647270c66c7ae2e6f83d864f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8652d32d7bf43f7e40039983c9e5fa0e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8652d32d7bf43f7e40039983c9e5fa0e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_MODE_HIGH_CAPACITY</b>&#160;&#160;&#160;0x10U</td></tr>
<tr class="separator:ga8652d32d7bf43f7e40039983c9e5fa0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
SDC bus error conditions</h2></td></tr>
<tr class="memitem:ga088c16af71305687ce3644a8bef637a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga088c16af71305687ce3644a8bef637a3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_NO_ERROR</b>&#160;&#160;&#160;0U</td></tr>
<tr class="separator:ga088c16af71305687ce3644a8bef637a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2230649fb4515b3d4800ffb1b5243df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa2230649fb4515b3d4800ffb1b5243df"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_CMD_CRC_ERROR</b>&#160;&#160;&#160;1U</td></tr>
<tr class="separator:gaa2230649fb4515b3d4800ffb1b5243df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1efef0d77dbcd870e3464710bb70c07a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1efef0d77dbcd870e3464710bb70c07a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_DATA_CRC_ERROR</b>&#160;&#160;&#160;2U</td></tr>
<tr class="separator:ga1efef0d77dbcd870e3464710bb70c07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ebb2b4dde5ae2b6e2902cae0c587436"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9ebb2b4dde5ae2b6e2902cae0c587436"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_DATA_TIMEOUT</b>&#160;&#160;&#160;4U</td></tr>
<tr class="separator:ga9ebb2b4dde5ae2b6e2902cae0c587436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1e9fc52cf3843a23c3d359987709bce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae1e9fc52cf3843a23c3d359987709bce"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_COMMAND_TIMEOUT</b>&#160;&#160;&#160;8U</td></tr>
<tr class="separator:gae1e9fc52cf3843a23c3d359987709bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b027a6e04463cd138ef64a371dfda51"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6b027a6e04463cd138ef64a371dfda51"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_TX_UNDERRUN</b>&#160;&#160;&#160;16U</td></tr>
<tr class="separator:ga6b027a6e04463cd138ef64a371dfda51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c82bf8814301580fd4650dbe2c7e53c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8c82bf8814301580fd4650dbe2c7e53c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_RX_OVERRUN</b>&#160;&#160;&#160;32U</td></tr>
<tr class="separator:ga8c82bf8814301580fd4650dbe2c7e53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6057e2ba5d7fc8506cb376eca2a735e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae6057e2ba5d7fc8506cb376eca2a735e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_STARTBIT_ERROR</b>&#160;&#160;&#160;64U</td></tr>
<tr class="separator:gae6057e2ba5d7fc8506cb376eca2a735e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bcbbb1ba4bd38bda73735a37819c615"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1bcbbb1ba4bd38bda73735a37819c615"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_OVERFLOW_ERROR</b>&#160;&#160;&#160;128U</td></tr>
<tr class="separator:ga1bcbbb1ba4bd38bda73735a37819c615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c807f66a19bcefb6084feb151cdc838"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5c807f66a19bcefb6084feb151cdc838"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDC_UNHANDLED_ERROR</b>&#160;&#160;&#160;0xFFFFFFFFU</td></tr>
<tr class="separator:ga5c807f66a19bcefb6084feb151cdc838"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
SDC configuration options</h2></td></tr>
<tr class="memitem:ga8d39f0c9799062f0698d97c26e6fa42d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga8d39f0c9799062f0698d97c26e6fa42d">SDC_INIT_RETRY</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:ga8d39f0c9799062f0698d97c26e6fa42d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of initialization attempts before rejecting the card.  <a href="#ga8d39f0c9799062f0698d97c26e6fa42d">More...</a><br /></td></tr>
<tr class="separator:ga8d39f0c9799062f0698d97c26e6fa42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f938eff7370feb8de8411e255d21b01"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga4f938eff7370feb8de8411e255d21b01">SDC_MMC_SUPPORT</a>&#160;&#160;&#160;FALSE</td></tr>
<tr class="memdesc:ga4f938eff7370feb8de8411e255d21b01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Include support for MMC cards.  <a href="#ga4f938eff7370feb8de8411e255d21b01">More...</a><br /></td></tr>
<tr class="separator:ga4f938eff7370feb8de8411e255d21b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3391c832c171a8606b0fc864766f08ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga3391c832c171a8606b0fc864766f08ba">SDC_NICE_WAITING</a>&#160;&#160;&#160;TRUE</td></tr>
<tr class="memdesc:ga3391c832c171a8606b0fc864766f08ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delays insertions.  <a href="#ga3391c832c171a8606b0fc864766f08ba">More...</a><br /></td></tr>
<tr class="separator:ga3391c832c171a8606b0fc864766f08ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4075652ed97018b997b66119b6054816"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga4075652ed97018b997b66119b6054816">SDC_INIT_OCR_V20</a>&#160;&#160;&#160;0x50FF8000U</td></tr>
<tr class="memdesc:ga4075652ed97018b997b66119b6054816"><td class="mdescLeft">&#160;</td><td class="mdescRight">OCR initialization constant for V20 cards.  <a href="#ga4075652ed97018b997b66119b6054816">More...</a><br /></td></tr>
<tr class="separator:ga4075652ed97018b997b66119b6054816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a5f20ab8b47c26bb88687cf22452218"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga6a5f20ab8b47c26bb88687cf22452218">SDC_INIT_OCR</a>&#160;&#160;&#160;0x80100000U</td></tr>
<tr class="memdesc:ga6a5f20ab8b47c26bb88687cf22452218"><td class="mdescLeft">&#160;</td><td class="mdescRight">OCR initialization constant for non-V20 cards.  <a href="#ga6a5f20ab8b47c26bb88687cf22452218">More...</a><br /></td></tr>
<tr class="separator:ga6a5f20ab8b47c26bb88687cf22452218"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Macro Functions</h2></td></tr>
<tr class="memitem:ga0db8e89433184ad1394555e429ea75ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga0db8e89433184ad1394555e429ea75ff">sdcIsCardInserted</a>(sdcp)&#160;&#160;&#160;(sdc_lld_is_card_inserted(sdcp))</td></tr>
<tr class="memdesc:ga0db8e89433184ad1394555e429ea75ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the card insertion status.  <a href="#ga0db8e89433184ad1394555e429ea75ff">More...</a><br /></td></tr>
<tr class="separator:ga0db8e89433184ad1394555e429ea75ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5aa511f3b10be220650b5e99ce5da8b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga5aa511f3b10be220650b5e99ce5da8b0">sdcIsWriteProtected</a>(sdcp)&#160;&#160;&#160;(sdc_lld_is_write_protected(sdcp))</td></tr>
<tr class="memdesc:ga5aa511f3b10be220650b5e99ce5da8b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the write protect status.  <a href="#ga5aa511f3b10be220650b5e99ce5da8b0">More...</a><br /></td></tr>
<tr class="separator:ga5aa511f3b10be220650b5e99ce5da8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga945d3105478f0e08e8b6c030f15e05a5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga945d3105478f0e08e8b6c030f15e05a5">mode_detect</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:ga945d3105478f0e08e8b6c030f15e05a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects card mode.  <a href="#ga945d3105478f0e08e8b6c030f15e05a5">More...</a><br /></td></tr>
<tr class="separator:ga945d3105478f0e08e8b6c030f15e05a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a42eab3339ce622be38e1fb32c8f4a8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga6a42eab3339ce622be38e1fb32c8f4a8">mmc_init</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:ga6a42eab3339ce622be38e1fb32c8f4a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init procedure for MMC.  <a href="#ga6a42eab3339ce622be38e1fb32c8f4a8">More...</a><br /></td></tr>
<tr class="separator:ga6a42eab3339ce622be38e1fb32c8f4a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c565009742787c4e3c0c9bbd2f9f2d9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga2c565009742787c4e3c0c9bbd2f9f2d9">sdc_init</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:ga2c565009742787c4e3c0c9bbd2f9f2d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init procedure for SDC.  <a href="#ga2c565009742787c4e3c0c9bbd2f9f2d9">More...</a><br /></td></tr>
<tr class="separator:ga2c565009742787c4e3c0c9bbd2f9f2d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab97820a2013d8c69182115a9dd2f6e7"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gaab97820a2013d8c69182115a9dd2f6e7">mmc_cmd6_construct</a> (<a class="el" href="group___s_d_c.html#gae55070cabf63a352771ede79dc4f09c6">mmc_switch_t</a> access, uint32_t idx, uint32_t value, uint32_t cmd_set)</td></tr>
<tr class="memdesc:gaab97820a2013d8c69182115a9dd2f6e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs CMD6 argument for MMC.  <a href="#gaab97820a2013d8c69182115a9dd2f6e7">More...</a><br /></td></tr>
<tr class="separator:gaab97820a2013d8c69182115a9dd2f6e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga141aa9cc045cfa5cb8b6f0303c8f89b5"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga141aa9cc045cfa5cb8b6f0303c8f89b5">sdc_cmd6_construct</a> (<a class="el" href="group___s_d_c.html#gab8c2e5c06581e8903e462bdd9efd20f7">sd_switch_t</a> mode, <a class="el" href="group___s_d_c.html#gabee587f5c79cbccd53091b550522cd18">sd_switch_function_t</a> function, uint32_t value)</td></tr>
<tr class="memdesc:ga141aa9cc045cfa5cb8b6f0303c8f89b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs CMD6 argument for SDC.  <a href="#ga141aa9cc045cfa5cb8b6f0303c8f89b5">More...</a><br /></td></tr>
<tr class="separator:ga141aa9cc045cfa5cb8b6f0303c8f89b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ddab96075cc151e09e52d532eb818ed"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga8ddab96075cc151e09e52d532eb818ed">sdc_cmd6_extract_info</a> (<a class="el" href="group___s_d_c.html#gabee587f5c79cbccd53091b550522cd18">sd_switch_function_t</a> function, const uint8_t *buf)</td></tr>
<tr class="memdesc:ga8ddab96075cc151e09e52d532eb818ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts information from CMD6 answer.  <a href="#ga8ddab96075cc151e09e52d532eb818ed">More...</a><br /></td></tr>
<tr class="separator:ga8ddab96075cc151e09e52d532eb818ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c2aee105bfe3192e4298e61f3ba970f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga9c2aee105bfe3192e4298e61f3ba970f">sdc_cmd6_check_status</a> (<a class="el" href="group___s_d_c.html#gabee587f5c79cbccd53091b550522cd18">sd_switch_function_t</a> function, const uint8_t *buf)</td></tr>
<tr class="memdesc:ga9c2aee105bfe3192e4298e61f3ba970f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks status after switching using CMD6.  <a href="#ga9c2aee105bfe3192e4298e61f3ba970f">More...</a><br /></td></tr>
<tr class="separator:ga9c2aee105bfe3192e4298e61f3ba970f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca5f90e27fa00e240d77f0ecc1bbd5ff"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gaca5f90e27fa00e240d77f0ecc1bbd5ff">sdc_detect_bus_clk</a> (SDCDriver *sdcp, <a class="el" href="group___s_d_c.html#ga934a5b529abbacd384d25f357cd4005c">sdcbusclk_t</a> *clk)</td></tr>
<tr class="memdesc:gaca5f90e27fa00e240d77f0ecc1bbd5ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads supported bus clock and switch SDC to appropriate mode.  <a href="#gaca5f90e27fa00e240d77f0ecc1bbd5ff">More...</a><br /></td></tr>
<tr class="separator:gaca5f90e27fa00e240d77f0ecc1bbd5ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59bfb50449a640c4db2d6e779cbb0436"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga59bfb50449a640c4db2d6e779cbb0436">mmc_detect_bus_clk</a> (SDCDriver *sdcp, <a class="el" href="group___s_d_c.html#ga934a5b529abbacd384d25f357cd4005c">sdcbusclk_t</a> *clk)</td></tr>
<tr class="memdesc:ga59bfb50449a640c4db2d6e779cbb0436"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads supported bus clock and switch MMC to appropriate mode.  <a href="#ga59bfb50449a640c4db2d6e779cbb0436">More...</a><br /></td></tr>
<tr class="separator:ga59bfb50449a640c4db2d6e779cbb0436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe8280703a33d12e867b641c3be3e42e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gafe8280703a33d12e867b641c3be3e42e">detect_bus_clk</a> (SDCDriver *sdcp, <a class="el" href="group___s_d_c.html#ga934a5b529abbacd384d25f357cd4005c">sdcbusclk_t</a> *clk)</td></tr>
<tr class="memdesc:gafe8280703a33d12e867b641c3be3e42e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads supported bus clock and switch card to appropriate mode.  <a href="#gafe8280703a33d12e867b641c3be3e42e">More...</a><br /></td></tr>
<tr class="separator:gafe8280703a33d12e867b641c3be3e42e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c7796f28b64fe060c61b39502634877"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga8c7796f28b64fe060c61b39502634877">sdc_set_bus_width</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:ga8c7796f28b64fe060c61b39502634877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets bus width for SDC.  <a href="#ga8c7796f28b64fe060c61b39502634877">More...</a><br /></td></tr>
<tr class="separator:ga8c7796f28b64fe060c61b39502634877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65272e7c0f56ce4e56757023c71930dc"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga65272e7c0f56ce4e56757023c71930dc">mmc_set_bus_width</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:ga65272e7c0f56ce4e56757023c71930dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets bus width for MMC.  <a href="#ga65272e7c0f56ce4e56757023c71930dc">More...</a><br /></td></tr>
<tr class="separator:ga65272e7c0f56ce4e56757023c71930dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad70bd0ddad7c1ea0086a5e99b885456"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gaad70bd0ddad7c1ea0086a5e99b885456">_sdc_wait_for_transfer_state</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:gaad70bd0ddad7c1ea0086a5e99b885456"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the card to complete pending operations.  <a href="#gaad70bd0ddad7c1ea0086a5e99b885456">More...</a><br /></td></tr>
<tr class="separator:gaad70bd0ddad7c1ea0086a5e99b885456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98f72333da8e5670502db1c31fe05acf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga98f72333da8e5670502db1c31fe05acf">sdcInit</a> (void)</td></tr>
<tr class="memdesc:ga98f72333da8e5670502db1c31fe05acf"><td class="mdescLeft">&#160;</td><td class="mdescRight">SDC Driver initialization.  <a href="#ga98f72333da8e5670502db1c31fe05acf">More...</a><br /></td></tr>
<tr class="separator:ga98f72333da8e5670502db1c31fe05acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga012d12a7461aa9a58f7d60c7ab18936e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga012d12a7461aa9a58f7d60c7ab18936e">sdcObjectInit</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:ga012d12a7461aa9a58f7d60c7ab18936e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the standard part of a <code>SDCDriver</code> structure.  <a href="#ga012d12a7461aa9a58f7d60c7ab18936e">More...</a><br /></td></tr>
<tr class="separator:ga012d12a7461aa9a58f7d60c7ab18936e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1abe1a70fdd7213abbfe78fd0503ea1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gad1abe1a70fdd7213abbfe78fd0503ea1">sdcStart</a> (SDCDriver *sdcp, const SDCConfig *config)</td></tr>
<tr class="memdesc:gad1abe1a70fdd7213abbfe78fd0503ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the SDC peripheral.  <a href="#gad1abe1a70fdd7213abbfe78fd0503ea1">More...</a><br /></td></tr>
<tr class="separator:gad1abe1a70fdd7213abbfe78fd0503ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18cd5791b36f17147bd735abb996bb64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga18cd5791b36f17147bd735abb996bb64">sdcStop</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:ga18cd5791b36f17147bd735abb996bb64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the SDC peripheral.  <a href="#ga18cd5791b36f17147bd735abb996bb64">More...</a><br /></td></tr>
<tr class="separator:ga18cd5791b36f17147bd735abb996bb64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5193cb21902945f5ee2f4da01e27fe34"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34">sdcConnect</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:ga5193cb21902945f5ee2f4da01e27fe34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the initialization procedure on the inserted card.  <a href="#ga5193cb21902945f5ee2f4da01e27fe34">More...</a><br /></td></tr>
<tr class="separator:ga5193cb21902945f5ee2f4da01e27fe34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ae88a1eef94ed28fc4f78d824da2575"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga8ae88a1eef94ed28fc4f78d824da2575">sdcDisconnect</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:ga8ae88a1eef94ed28fc4f78d824da2575"><td class="mdescLeft">&#160;</td><td class="mdescRight">Brings the driver in a state safe for card removal.  <a href="#ga8ae88a1eef94ed28fc4f78d824da2575">More...</a><br /></td></tr>
<tr class="separator:ga8ae88a1eef94ed28fc4f78d824da2575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d0a851fa04fa57e698871901c97697f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga4d0a851fa04fa57e698871901c97697f">sdcRead</a> (SDCDriver *sdcp, uint32_t startblk, uint8_t *buf, uint32_t n)</td></tr>
<tr class="memdesc:ga4d0a851fa04fa57e698871901c97697f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads one or more blocks.  <a href="#ga4d0a851fa04fa57e698871901c97697f">More...</a><br /></td></tr>
<tr class="separator:ga4d0a851fa04fa57e698871901c97697f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52c4c7bb0dc5c7d543386b24c8599401"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#ga52c4c7bb0dc5c7d543386b24c8599401">sdcWrite</a> (SDCDriver *sdcp, uint32_t startblk, const uint8_t *buf, uint32_t n)</td></tr>
<tr class="memdesc:ga52c4c7bb0dc5c7d543386b24c8599401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes one or more blocks.  <a href="#ga52c4c7bb0dc5c7d543386b24c8599401">More...</a><br /></td></tr>
<tr class="separator:ga52c4c7bb0dc5c7d543386b24c8599401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa281d5df4c261073b7aa05d24f19ca4f"><td class="memItemLeft" align="right" valign="top">sdcflags_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gaa281d5df4c261073b7aa05d24f19ca4f">sdcGetAndClearErrors</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:gaa281d5df4c261073b7aa05d24f19ca4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the errors mask associated to the previous operation.  <a href="#gaa281d5df4c261073b7aa05d24f19ca4f">More...</a><br /></td></tr>
<tr class="separator:gaa281d5df4c261073b7aa05d24f19ca4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5335a331de234be5ceb3c76b12832db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gac5335a331de234be5ceb3c76b12832db">sdcSync</a> (SDCDriver *sdcp)</td></tr>
<tr class="memdesc:gac5335a331de234be5ceb3c76b12832db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for card idle condition.  <a href="#gac5335a331de234be5ceb3c76b12832db">More...</a><br /></td></tr>
<tr class="separator:gac5335a331de234be5ceb3c76b12832db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf871018703e1d3700270c9333f6a9c13"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gaf871018703e1d3700270c9333f6a9c13">sdcGetInfo</a> (SDCDriver *sdcp, <a class="el" href="struct_block_device_info.html">BlockDeviceInfo</a> *bdip)</td></tr>
<tr class="memdesc:gaf871018703e1d3700270c9333f6a9c13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the media info.  <a href="#gaf871018703e1d3700270c9333f6a9c13">More...</a><br /></td></tr>
<tr class="separator:gaf871018703e1d3700270c9333f6a9c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafec992bceda98e20ad6465417e48142d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gafec992bceda98e20ad6465417e48142d">sdcErase</a> (SDCDriver *sdcp, uint32_t startblk, uint32_t endblk)</td></tr>
<tr class="memdesc:gafec992bceda98e20ad6465417e48142d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases the supplied blocks.  <a href="#gafec992bceda98e20ad6465417e48142d">More...</a><br /></td></tr>
<tr class="separator:gafec992bceda98e20ad6465417e48142d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gab44f1b5cb5f47d61a1bd36e4584eec0b"><td class="memItemLeft" align="right" valign="top">static const struct SDCDriverVMT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_c.html#gab44f1b5cb5f47d61a1bd36e4584eec0b">sdc_vmt</a></td></tr>
<tr class="memdesc:gab44f1b5cb5f47d61a1bd36e4584eec0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual methods table.  <a href="#gab44f1b5cb5f47d61a1bd36e4584eec0b">More...</a><br /></td></tr>
<tr class="separator:gab44f1b5cb5f47d61a1bd36e4584eec0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga8d39f0c9799062f0698d97c26e6fa42d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDC_INIT_RETRY&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of initialization attempts before rejecting the card. </p>
<dl class="section note"><dt>Note</dt><dd>Attempts are performed at 10mS intervals. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8h_source.html#l00074">74</a> of file <a class="el" href="hal__sdc_8h_source.html">hal_sdc.h</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga6a42eab3339ce622be38e1fb32c8f4a8">mmc_init()</a>, and <a class="el" href="group___s_d_c.html#ga2c565009742787c4e3c0c9bbd2f9f2d9">sdc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4f938eff7370feb8de8411e255d21b01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDC_MMC_SUPPORT&#160;&#160;&#160;FALSE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Include support for MMC cards. </p>
<dl class="section note"><dt>Note</dt><dd>MMC support is not yet implemented so this option must be kept at <code>FALSE</code>. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8h_source.html#l00083">83</a> of file <a class="el" href="hal__sdc_8h_source.html">hal_sdc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3391c832c171a8606b0fc864766f08ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDC_NICE_WAITING&#160;&#160;&#160;TRUE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delays insertions. </p>
<p>If enabled this options inserts delays into the MMC waiting routines releasing some extra CPU time for the threads with lower priority, this may slow down the driver a bit however. </p>

<p>Definition at line <a class="el" href="hal__sdc_8h_source.html#l00093">93</a> of file <a class="el" href="hal__sdc_8h_source.html">hal_sdc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga4075652ed97018b997b66119b6054816"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDC_INIT_OCR_V20&#160;&#160;&#160;0x50FF8000U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OCR initialization constant for V20 cards. </p>

<p>Definition at line <a class="el" href="hal__sdc_8h_source.html#l00100">100</a> of file <a class="el" href="hal__sdc_8h_source.html">hal_sdc.h</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga2c565009742787c4e3c0c9bbd2f9f2d9">sdc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6a5f20ab8b47c26bb88687cf22452218"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDC_INIT_OCR&#160;&#160;&#160;0x80100000U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OCR initialization constant for non-V20 cards. </p>

<p>Definition at line <a class="el" href="hal__sdc_8h_source.html#l00107">107</a> of file <a class="el" href="hal__sdc_8h_source.html">hal_sdc.h</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga2c565009742787c4e3c0c9bbd2f9f2d9">sdc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0db8e89433184ad1394555e429ea75ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sdcIsCardInserted</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sdcp</td><td>)</td>
          <td>&#160;&#160;&#160;(sdc_lld_is_card_inserted(sdcp))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the card insertion status. </p>
<dl class="section note"><dt>Note</dt><dd>This macro wraps a low level function named <code>sdc_lld_is_card_inserted()</code>, this function must be provided by the application because it is not part of the SDC driver.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The card state. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>card not inserted. </td></tr>
    <tr><td class="paramname">true</td><td>card inserted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8h_source.html#l00160">160</a> of file <a class="el" href="hal__sdc_8h_source.html">hal_sdc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5aa511f3b10be220650b5e99ce5da8b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sdcIsWriteProtected</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sdcp</td><td>)</td>
          <td>&#160;&#160;&#160;(sdc_lld_is_write_protected(sdcp))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the write protect status. </p>
<dl class="section note"><dt>Note</dt><dd>This macro wraps a low level function named <code>sdc_lld_is_write_protected()</code>, this function must be provided by the application because it is not part of the SDC driver.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The card state. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>not write protected. </td></tr>
    <tr><td class="paramname">true</td><td>write protected.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8h_source.html#l00176">176</a> of file <a class="el" href="hal__sdc_8h_source.html">hal_sdc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gae55070cabf63a352771ede79dc4f09c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___s_d_c.html#gae55070cabf63a352771ede79dc4f09c6">mmc_switch_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MMC switch mode. </p>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00038">38</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab8c2e5c06581e8903e462bdd9efd20f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___s_d_c.html#gab8c2e5c06581e8903e462bdd9efd20f7">sd_switch_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SDC switch mode. </p>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00048">48</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabee587f5c79cbccd53091b550522cd18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___s_d_c.html#gabee587f5c79cbccd53091b550522cd18">sd_switch_function_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SDC switch function. </p>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00056">56</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2e0fb8e39a86b3b6bca4fe917d238400"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___s_d_c.html#ga2e0fb8e39a86b3b6bca4fe917d238400">sdcbusmode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of SDIO bus mode. </p>

<p>Definition at line <a class="el" href="hal__sdc_8h_source.html#l00122">122</a> of file <a class="el" href="hal__sdc_8h_source.html">hal_sdc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga934a5b529abbacd384d25f357cd4005c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___s_d_c.html#ga934a5b529abbacd384d25f357cd4005c">sdcbusclk_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max supported clock. </p>

<p>Definition at line <a class="el" href="hal__sdc_8h_source.html#l00131">131</a> of file <a class="el" href="hal__sdc_8h_source.html">hal_sdc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga945d3105478f0e08e8b6c030f15e05a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mode_detect </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detects card mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00099">99</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___m_m_c_s_d.html#gac19a3b57fbbb73b328c6720646dff99e">MMCSD_CMD8_PATTERN</a>, and <a class="el" href="group___m_m_c_s_d.html#ga1f0a3e5153248e48da14d64dde4b23fe">MMCSD_R1_ERROR</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34">sdcConnect()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6a42eab3339ce622be38e1fb32c8f4a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mmc_init </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Init procedure for MMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00143">143</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___o_s_a_l.html#gaf64de511f36e28b0365d138d5e281f5b">osalThreadSleepMilliseconds</a>, and <a class="el" href="group___s_d_c.html#ga8d39f0c9799062f0698d97c26e6fa42d">SDC_INIT_RETRY</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34">sdcConnect()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2c565009742787c4e3c0c9bbd2f9f2d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool sdc_init </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Init procedure for SDC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00180">180</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___m_m_c_s_d.html#ga1f0a3e5153248e48da14d64dde4b23fe">MMCSD_R1_ERROR</a>, <a class="el" href="group___o_s_a_l.html#gaf64de511f36e28b0365d138d5e281f5b">osalThreadSleepMilliseconds</a>, <a class="el" href="group___s_d_c.html#ga6a5f20ab8b47c26bb88687cf22452218">SDC_INIT_OCR</a>, <a class="el" href="group___s_d_c.html#ga4075652ed97018b997b66119b6054816">SDC_INIT_OCR_V20</a>, and <a class="el" href="group___s_d_c.html#ga8d39f0c9799062f0698d97c26e6fa42d">SDC_INIT_RETRY</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34">sdcConnect()</a>.</p>

</div>
</div>
<a class="anchor" id="gaab97820a2013d8c69182115a9dd2f6e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t mmc_cmd6_construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_d_c.html#gae55070cabf63a352771ede79dc4f09c6">mmc_switch_t</a>&#160;</td>
          <td class="paramname"><em>access</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cmd_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs CMD6 argument for MMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">access</td><td>EXT_CSD access mode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>EXT_CSD byte number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>value to be written in target field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd_set</td><td>switch current command set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CMD6 argument.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00228">228</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga59bfb50449a640c4db2d6e779cbb0436">mmc_detect_bus_clk()</a>, and <a class="el" href="group___s_d_c.html#ga65272e7c0f56ce4e56757023c71930dc">mmc_set_bus_width()</a>.</p>

</div>
</div>
<a class="anchor" id="ga141aa9cc045cfa5cb8b6f0303c8f89b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t sdc_cmd6_construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_d_c.html#gab8c2e5c06581e8903e462bdd9efd20f7">sd_switch_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_d_c.html#gabee587f5c79cbccd53091b550522cd18">sd_switch_function_t</a>&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs CMD6 argument for SDC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>switch/test mode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">function</td><td>function number to be switched </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>value to be written in target function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CMD6 argument.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00248">248</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#gaca5f90e27fa00e240d77f0ecc1bbd5ff">sdc_detect_bus_clk()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8ddab96075cc151e09e52d532eb818ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t sdc_cmd6_extract_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_d_c.html#gabee587f5c79cbccd53091b550522cd18">sd_switch_function_t</a>&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts information from CMD6 answer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">function</td><td>function number to be switched </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer with answer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>extracted answer.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00270">270</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#gaca5f90e27fa00e240d77f0ecc1bbd5ff">sdc_detect_bus_clk()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9c2aee105bfe3192e4298e61f3ba970f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool sdc_cmd6_check_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_d_c.html#gabee587f5c79cbccd53091b550522cd18">sd_switch_function_t</a>&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks status after switching using CMD6. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">function</td><td>function number to be switched </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer with answer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00290">290</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#gaca5f90e27fa00e240d77f0ecc1bbd5ff">sdc_detect_bus_clk()</a>.</p>

</div>
</div>
<a class="anchor" id="gaca5f90e27fa00e240d77f0ecc1bbd5ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool sdc_detect_bus_clk </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_d_c.html#ga934a5b529abbacd384d25f357cd4005c">sdcbusclk_t</a> *&#160;</td>
          <td class="paramname"><em>clk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads supported bus clock and switch SDC to appropriate mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">clk</td><td>pointer to clock enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00318">318</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___m_m_c_s_d.html#ga88144aba611c42712440a7af1c567eb1">_mmcsd_get_slice()</a>, <a class="el" href="group___s_d_c.html#ga9c2aee105bfe3192e4298e61f3ba970f">sdc_cmd6_check_status()</a>, <a class="el" href="group___s_d_c.html#ga141aa9cc045cfa5cb8b6f0303c8f89b5">sdc_cmd6_construct()</a>, and <a class="el" href="group___s_d_c.html#ga8ddab96075cc151e09e52d532eb818ed">sdc_cmd6_extract_info()</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#gafe8280703a33d12e867b641c3be3e42e">detect_bus_clk()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_gaca5f90e27fa00e240d77f0ecc1bbd5ff_cgraph.png" border="0" usemap="#group___s_d_c_gaca5f90e27fa00e240d77f0ecc1bbd5ff_cgraph" alt=""/></div>
<map name="group___s_d_c_gaca5f90e27fa00e240d77f0ecc1bbd5ff_cgraph" id="group___s_d_c_gaca5f90e27fa00e240d77f0ecc1bbd5ff_cgraph">
<area shape="rect" id="node2" href="group___m_m_c_s_d.html#ga88144aba611c42712440a7af1c567eb1" title="Gets a bit field from a words array. " alt="" coords="182,5,291,29"/>
<area shape="rect" id="node3" href="group___s_d_c.html#ga9c2aee105bfe3192e4298e61f3ba970f" title="Checks status after switching using CMD6. " alt="" coords="168,53,305,77"/>
<area shape="rect" id="node4" href="group___s_d_c.html#ga141aa9cc045cfa5cb8b6f0303c8f89b5" title="Constructs CMD6 argument for SDC. " alt="" coords="177,101,296,125"/>
<area shape="rect" id="node5" href="group___s_d_c.html#ga8ddab96075cc151e09e52d532eb818ed" title="Extracts information from CMD6 answer. " alt="" coords="171,149,302,173"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga59bfb50449a640c4db2d6e779cbb0436"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mmc_detect_bus_clk </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_d_c.html#ga934a5b529abbacd384d25f357cd4005c">sdcbusclk_t</a> *&#160;</td>
          <td class="paramname"><em>clk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads supported bus clock and switch MMC to appropriate mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">clk</td><td>pointer to clock enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00372">372</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___s_d_c.html#gaab97820a2013d8c69182115a9dd2f6e7">mmc_cmd6_construct()</a>, and <a class="el" href="group___m_m_c_s_d.html#ga1f0a3e5153248e48da14d64dde4b23fe">MMCSD_R1_ERROR</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#gafe8280703a33d12e867b641c3be3e42e">detect_bus_clk()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_ga59bfb50449a640c4db2d6e779cbb0436_cgraph.png" border="0" usemap="#group___s_d_c_ga59bfb50449a640c4db2d6e779cbb0436_cgraph" alt=""/></div>
<map name="group___s_d_c_ga59bfb50449a640c4db2d6e779cbb0436_cgraph" id="group___s_d_c_ga59bfb50449a640c4db2d6e779cbb0436_cgraph">
<area shape="rect" id="node2" href="group___s_d_c.html#gaab97820a2013d8c69182115a9dd2f6e7" title="Constructs CMD6 argument for MMC. " alt="" coords="175,5,301,29"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gafe8280703a33d12e867b641c3be3e42e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool detect_bus_clk </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_d_c.html#ga934a5b529abbacd384d25f357cd4005c">sdcbusclk_t</a> *&#160;</td>
          <td class="paramname"><em>clk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads supported bus clock and switch card to appropriate mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">clk</td><td>pointer to clock enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00406">406</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___s_d_c.html#ga59bfb50449a640c4db2d6e779cbb0436">mmc_detect_bus_clk()</a>, and <a class="el" href="group___s_d_c.html#gaca5f90e27fa00e240d77f0ecc1bbd5ff">sdc_detect_bus_clk()</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34">sdcConnect()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_gafe8280703a33d12e867b641c3be3e42e_cgraph.png" border="0" usemap="#group___s_d_c_gafe8280703a33d12e867b641c3be3e42e_cgraph" alt=""/></div>
<map name="group___s_d_c_gafe8280703a33d12e867b641c3be3e42e_cgraph" id="group___s_d_c_gafe8280703a33d12e867b641c3be3e42e_cgraph">
<area shape="rect" id="node2" href="group___s_d_c.html#ga59bfb50449a640c4db2d6e779cbb0436" title="Reads supported bus clock and switch MMC to appropriate mode. " alt="" coords="145,29,267,53"/>
<area shape="rect" id="node4" href="group___s_d_c.html#gaca5f90e27fa00e240d77f0ecc1bbd5ff" title="Reads supported bus clock and switch SDC to appropriate mode. " alt="" coords="149,101,263,125"/>
<area shape="rect" id="node3" href="group___s_d_c.html#gaab97820a2013d8c69182115a9dd2f6e7" title="Constructs CMD6 argument for MMC. " alt="" coords="320,5,447,29"/>
<area shape="rect" id="node5" href="group___m_m_c_s_d.html#ga88144aba611c42712440a7af1c567eb1" title="Gets a bit field from a words array. " alt="" coords="329,53,438,77"/>
<area shape="rect" id="node6" href="group___s_d_c.html#ga9c2aee105bfe3192e4298e61f3ba970f" title="Checks status after switching using CMD6. " alt="" coords="315,101,452,125"/>
<area shape="rect" id="node7" href="group___s_d_c.html#ga141aa9cc045cfa5cb8b6f0303c8f89b5" title="Constructs CMD6 argument for SDC. " alt="" coords="324,149,443,173"/>
<area shape="rect" id="node8" href="group___s_d_c.html#ga8ddab96075cc151e09e52d532eb818ed" title="Extracts information from CMD6 answer. " alt="" coords="318,197,449,221"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8c7796f28b64fe060c61b39502634877"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool sdc_set_bus_width </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets bus width for SDC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00425">425</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___m_m_c_s_d.html#ga1f0a3e5153248e48da14d64dde4b23fe">MMCSD_R1_ERROR</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34">sdcConnect()</a>.</p>

</div>
</div>
<a class="anchor" id="ga65272e7c0f56ce4e56757023c71930dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mmc_set_bus_width </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets bus width for MMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00463">463</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___s_d_c.html#gaab97820a2013d8c69182115a9dd2f6e7">mmc_cmd6_construct()</a>, <a class="el" href="group___m_m_c_s_d.html#ga1f0a3e5153248e48da14d64dde4b23fe">MMCSD_R1_ERROR</a>, and <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34">sdcConnect()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_ga65272e7c0f56ce4e56757023c71930dc_cgraph.png" border="0" usemap="#group___s_d_c_ga65272e7c0f56ce4e56757023c71930dc_cgraph" alt=""/></div>
<map name="group___s_d_c_ga65272e7c0f56ce4e56757023c71930dc_cgraph" id="group___s_d_c_ga65272e7c0f56ce4e56757023c71930dc_cgraph">
<area shape="rect" id="node2" href="group___s_d_c.html#gaab97820a2013d8c69182115a9dd2f6e7" title="Constructs CMD6 argument for MMC. " alt="" coords="172,5,299,29"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaad70bd0ddad7c1ea0086a5e99b885456"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _sdc_wait_for_transfer_state </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for the card to complete pending operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00502">502</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___m_m_c_s_d.html#ga1f0a3e5153248e48da14d64dde4b23fe">MMCSD_R1_ERROR</a>, <a class="el" href="group___m_m_c_s_d.html#ga4bf4c888e125924eb50be0bd13f52b8e">MMCSD_R1_STS</a>, and <a class="el" href="group___o_s_a_l.html#gaf64de511f36e28b0365d138d5e281f5b">osalThreadSleepMilliseconds</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga8ae88a1eef94ed28fc4f78d824da2575">sdcDisconnect()</a>, and <a class="el" href="group___s_d_c.html#gafec992bceda98e20ad6465417e48142d">sdcErase()</a>.</p>

</div>
</div>
<a class="anchor" id="ga98f72333da8e5670502db1c31fe05acf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sdcInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SDC Driver initialization. </p>
<dl class="section note"><dt>Note</dt><dd>This function is implicitly invoked by <code><a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d" title="HAL initialization. ">halInit()</a></code>, there is no need to explicitly initialize the driver.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00541">541</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d">halInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga012d12a7461aa9a58f7d60c7ab18936e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sdcObjectInit </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the standard part of a <code>SDCDriver</code> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00553">553</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a3342157627fffeacb36b858f4ac1e0d8">BLK_STOP</a>, and <a class="el" href="group___s_d_c.html#gab44f1b5cb5f47d61a1bd36e4584eec0b">sdc_vmt</a>.</p>

</div>
</div>
<a class="anchor" id="gad1abe1a70fdd7213abbfe78fd0503ea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sdcStart </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SDCConfig *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the SDC peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>pointer to the <code>SDCConfig</code> object, can be <code>NULL</code> if the driver supports a default configuration or requires no configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00572">572</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9aeb430f851f699da53ba7589808edf948">BLK_ACTIVE</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a3342157627fffeacb36b858f4ac1e0d8">BLK_STOP</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, and <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_gad1abe1a70fdd7213abbfe78fd0503ea1_cgraph.png" border="0" usemap="#group___s_d_c_gad1abe1a70fdd7213abbfe78fd0503ea1_cgraph" alt=""/></div>
<map name="group___s_d_c_gad1abe1a70fdd7213abbfe78fd0503ea1_cgraph" id="group___s_d_c_gad1abe1a70fdd7213abbfe78fd0503ea1_cgraph">
<area shape="rect" id="node2" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="120,5,200,29"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="115,53,205,77"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga18cd5791b36f17147bd735abb996bb64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sdcStop </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the SDC peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00592">592</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9aeb430f851f699da53ba7589808edf948">BLK_ACTIVE</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a3342157627fffeacb36b858f4ac1e0d8">BLK_STOP</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, and <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_ga18cd5791b36f17147bd735abb996bb64_cgraph.png" border="0" usemap="#group___s_d_c_ga18cd5791b36f17147bd735abb996bb64_cgraph" alt=""/></div>
<map name="group___s_d_c_ga18cd5791b36f17147bd735abb996bb64_cgraph" id="group___s_d_c_ga18cd5791b36f17147bd735abb996bb64_cgraph">
<area shape="rect" id="node2" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="119,5,199,29"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="113,53,204,77"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5193cb21902945f5ee2f4da01e27fe34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sdcConnect </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the initialization procedure on the inserted card. </p>
<p>This function should be invoked when a card is inserted and brings the driver in the <code>BLK_READY</code> state where it is possible to perform read and write operations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00622">622</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___m_m_c_s_d.html#gaa4d54721136e91e1d588502848e96774">_mmcsd_get_capacity()</a>, <a class="el" href="group___m_m_c_s_d.html#gae4df577ca434c42f863131b2d58bfac3">_mmcsd_get_capacity_ext()</a>, <a class="el" href="group___m_m_c_s_d.html#ga88144aba611c42712440a7af1c567eb1">_mmcsd_get_slice()</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9aeb430f851f699da53ba7589808edf948">BLK_ACTIVE</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a362f871d23123b518baedc38f0d8e99a">BLK_CONNECTING</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a97b7a7ddb6b18c693d1f52e7163eed0f">BLK_READY</a>, <a class="el" href="group___s_d_c.html#gafe8280703a33d12e867b641c3be3e42e">detect_bus_clk()</a>, <a class="el" href="group___s_d_c.html#ga6a42eab3339ce622be38e1fb32c8f4a8">mmc_init()</a>, <a class="el" href="group___s_d_c.html#ga65272e7c0f56ce4e56757023c71930dc">mmc_set_bus_width()</a>, <a class="el" href="group___m_m_c_s_d.html#gace1da627ffbd5b8c176225f6e11bc13a">MMCSD_BLOCK_SIZE</a>, <a class="el" href="group___m_m_c_s_d.html#ga22e6fac201d09cbb27557e811c93c8aa">MMCSD_CSD_MMC_CSD_STRUCTURE_SLICE</a>, <a class="el" href="group___m_m_c_s_d.html#ga1f0a3e5153248e48da14d64dde4b23fe">MMCSD_R1_ERROR</a>, <a class="el" href="group___s_d_c.html#ga945d3105478f0e08e8b6c030f15e05a5">mode_detect()</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___s_d_c.html#ga2c565009742787c4e3c0c9bbd2f9f2d9">sdc_init()</a>, and <a class="el" href="group___s_d_c.html#ga8c7796f28b64fe060c61b39502634877">sdc_set_bus_width()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_ga5193cb21902945f5ee2f4da01e27fe34_cgraph.png" border="0" usemap="#group___s_d_c_ga5193cb21902945f5ee2f4da01e27fe34_cgraph" alt=""/></div>
<map name="group___s_d_c_ga5193cb21902945f5ee2f4da01e27fe34_cgraph" id="group___s_d_c_ga5193cb21902945f5ee2f4da01e27fe34_cgraph">
<area shape="rect" id="node2" href="group___m_m_c_s_d.html#gaa4d54721136e91e1d588502848e96774" title="Extract card capacity from a CSD. " alt="" coords="327,5,453,29"/>
<area shape="rect" id="node3" href="group___m_m_c_s_d.html#ga88144aba611c42712440a7af1c567eb1" title="Gets a bit field from a words array. " alt="" coords="510,55,619,79"/>
<area shape="rect" id="node4" href="group___m_m_c_s_d.html#gae4df577ca434c42f863131b2d58bfac3" title="Extract MMC card capacity from EXT_CSD. " alt="" coords="132,104,279,128"/>
<area shape="rect" id="node5" href="group___s_d_c.html#gafe8280703a33d12e867b641c3be3e42e" title="Reads supported bus clock and switch card to appropriate mode. " alt="" coords="159,152,251,176"/>
<area shape="rect" id="node9" href="group___s_d_c.html#ga6a42eab3339ce622be38e1fb32c8f4a8" title="Init procedure for MMC. " alt="" coords="173,200,237,224"/>
<area shape="rect" id="node10" href="group___s_d_c.html#ga65272e7c0f56ce4e56757023c71930dc" title="Sets bus width for MMC. " alt="" coords="331,243,449,267"/>
<area shape="rect" id="node11" href="group___s_d_c.html#ga945d3105478f0e08e8b6c030f15e05a5" title="Detects card mode. " alt="" coords="163,299,247,323"/>
<area shape="rect" id="node12" href="group___s_d_c.html#ga2c565009742787c4e3c0c9bbd2f9f2d9" title="Init procedure for SDC. " alt="" coords="177,347,234,371"/>
<area shape="rect" id="node13" href="group___s_d_c.html#ga8c7796f28b64fe060c61b39502634877" title="Sets bus width for SDC. " alt="" coords="149,395,261,419"/>
<area shape="rect" id="node6" href="group___s_d_c.html#ga59bfb50449a640c4db2d6e779cbb0436" title="Reads supported bus clock and switch MMC to appropriate mode. " alt="" coords="329,171,451,195"/>
<area shape="rect" id="node8" href="group___s_d_c.html#gaca5f90e27fa00e240d77f0ecc1bbd5ff" title="Reads supported bus clock and switch SDC to appropriate mode. " alt="" coords="333,111,447,135"/>
<area shape="rect" id="node7" href="group___s_d_c.html#gaab97820a2013d8c69182115a9dd2f6e7" title="Constructs CMD6 argument for MMC. " alt="" coords="501,207,628,231"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8ae88a1eef94ed28fc4f78d824da2575"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sdcDisconnect </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Brings the driver in a state safe for card removal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00761">761</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___s_d_c.html#gaad70bd0ddad7c1ea0086a5e99b885456">_sdc_wait_for_transfer_state()</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9aeb430f851f699da53ba7589808edf948">BLK_ACTIVE</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9aaf1cbda180cfdc42751cb06d54372f7f">BLK_DISCONNECTING</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a97b7a7ddb6b18c693d1f52e7163eed0f">BLK_READY</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, and <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_ga8ae88a1eef94ed28fc4f78d824da2575_cgraph.png" border="0" usemap="#group___s_d_c_ga8ae88a1eef94ed28fc4f78d824da2575_cgraph" alt=""/></div>
<map name="group___s_d_c_ga8ae88a1eef94ed28fc4f78d824da2575_cgraph" id="group___s_d_c_ga8ae88a1eef94ed28fc4f78d824da2575_cgraph">
<area shape="rect" id="node2" href="group___s_d_c.html#gaad70bd0ddad7c1ea0086a5e99b885456" title="Wait for the card to complete pending operations. " alt="" coords="144,5,275,41"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="169,66,249,90"/>
<area shape="rect" id="node4" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="164,114,255,138"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4d0a851fa04fa57e698871901c97697f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sdcRead </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>startblk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads one or more blocks. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The driver must be in the <code>BLK_READY</code> state after a successful <a class="el" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34" title="Performs the initialization procedure on the inserted card. ">sdcConnect()</a> invocation.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startblk</td><td>first block to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>pointer to the read buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of blocks to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00804">804</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9ab1db560d5a0a6d7aff6b522c605004ff">BLK_READING</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a97b7a7ddb6b18c693d1f52e7163eed0f">BLK_READY</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, and <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>.</p>

</div>
</div>
<a class="anchor" id="ga52c4c7bb0dc5c7d543386b24c8599401"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sdcWrite </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>startblk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes one or more blocks. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The driver must be in the <code>BLK_READY</code> state after a successful <a class="el" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34" title="Performs the initialization procedure on the inserted card. ">sdcConnect()</a> invocation.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startblk</td><td>first block to write </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>pointer to the write buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of blocks to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00841">841</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a97b7a7ddb6b18c693d1f52e7163eed0f">BLK_READY</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a081cbd0b13e70eced066b9465be782f5">BLK_WRITING</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, and <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>.</p>

</div>
</div>
<a class="anchor" id="gaa281d5df4c261073b7aa05d24f19ca4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sdcflags_t sdcGetAndClearErrors </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the errors mask associated to the previous operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The errors mask.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00871">871</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a97b7a7ddb6b18c693d1f52e7163eed0f">BLK_READY</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, and <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_gaa281d5df4c261073b7aa05d24f19ca4f_cgraph.png" border="0" usemap="#group___s_d_c_gaa281d5df4c261073b7aa05d24f19ca4f_cgraph" alt=""/></div>
<map name="group___s_d_c_gaa281d5df4c261073b7aa05d24f19ca4f_cgraph" id="group___s_d_c_gaa281d5df4c261073b7aa05d24f19ca4f_cgraph">
<area shape="rect" id="node2" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="189,5,269,29"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="184,53,275,77"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac5335a331de234be5ceb3c76b12832db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sdcSync </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for card idle condition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>the operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>the operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00895">895</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a97b7a7ddb6b18c693d1f52e7163eed0f">BLK_READY</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9ac8b6a64a1b2aac40bd452167cd9fdfbe">BLK_SYNCING</a>, and <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>.</p>

</div>
</div>
<a class="anchor" id="gaf871018703e1d3700270c9333f6a9c13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sdcGetInfo </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_block_device_info.html">BlockDeviceInfo</a> *&#160;</td>
          <td class="paramname"><em>bdip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the media info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bdip</td><td>pointer to a <code><a class="el" href="struct_block_device_info.html" title="Block device info. ">BlockDeviceInfo</a></code> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>the operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>the operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00926">926</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="struct_block_device_info.html#a6bbffadf25a22e3f96914463d321ab05">BlockDeviceInfo::blk_num</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a97b7a7ddb6b18c693d1f52e7163eed0f">BLK_READY</a>, <a class="el" href="struct_block_device_info.html#a8b8c5b5f961c010967dc181e83db7a00">BlockDeviceInfo::blk_size</a>, <a class="el" href="group___m_m_c_s_d.html#gace1da627ffbd5b8c176225f6e11bc13a">MMCSD_BLOCK_SIZE</a>, and <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>.</p>

</div>
</div>
<a class="anchor" id="gafec992bceda98e20ad6465417e48142d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sdcErase </td>
          <td>(</td>
          <td class="paramtype">SDCDriver *&#160;</td>
          <td class="paramname"><em>sdcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>startblk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>endblk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erases the supplied blocks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdcp</td><td>pointer to the <code>SDCDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startblk</td><td>starting block number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">endblk</td><td>ending block number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL_SUCCESS</td><td>the operation succeeded. </td></tr>
    <tr><td class="paramname">HAL_FAILED</td><td>the operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00953">953</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>References <a class="el" href="group___s_d_c.html#gaad70bd0ddad7c1ea0086a5e99b885456">_sdc_wait_for_transfer_state()</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a97b7a7ddb6b18c693d1f52e7163eed0f">BLK_READY</a>, <a class="el" href="group___i_o___b_l_o_c_k.html#gga1f189b51767bd55ccc145f43b9a363b9a081cbd0b13e70eced066b9465be782f5">BLK_WRITING</a>, <a class="el" href="group___m_m_c_s_d.html#gace1da627ffbd5b8c176225f6e11bc13a">MMCSD_BLOCK_SIZE</a>, <a class="el" href="group___m_m_c_s_d.html#ga1f0a3e5153248e48da14d64dde4b23fe">MMCSD_R1_ERROR</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, and <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_d_c_gafec992bceda98e20ad6465417e48142d_cgraph.png" border="0" usemap="#group___s_d_c_gafec992bceda98e20ad6465417e48142d_cgraph" alt=""/></div>
<map name="group___s_d_c_gafec992bceda98e20ad6465417e48142d_cgraph" id="group___s_d_c_gafec992bceda98e20ad6465417e48142d_cgraph">
<area shape="rect" id="node2" href="group___s_d_c.html#gaad70bd0ddad7c1ea0086a5e99b885456" title="Wait for the card to complete pending operations. " alt="" coords="120,5,251,41"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gab44f1b5cb5f47d61a1bd36e4584eec0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct SDCDriverVMT sdc_vmt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">  (bool (*)(<span class="keywordtype">void</span> *))sdc_lld_is_card_inserted,</div><div class="line">  (bool (*)(<span class="keywordtype">void</span> *))sdc_lld_is_write_protected,</div><div class="line">  (<span class="keywordtype">bool</span> (*)(<span class="keywordtype">void</span> *))<a class="code" href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34">sdcConnect</a>,</div><div class="line">  (<span class="keywordtype">bool</span> (*)(<span class="keywordtype">void</span> *))<a class="code" href="group___s_d_c.html#ga8ae88a1eef94ed28fc4f78d824da2575">sdcDisconnect</a>,</div><div class="line">  (<span class="keywordtype">bool</span> (*)(<span class="keywordtype">void</span> *, uint32_t, uint8_t *, uint32_t))<a class="code" href="group___s_d_c.html#ga4d0a851fa04fa57e698871901c97697f">sdcRead</a>,</div><div class="line">  (<span class="keywordtype">bool</span> (*)(<span class="keywordtype">void</span> *, uint32_t, const uint8_t *, uint32_t))<a class="code" href="group___s_d_c.html#ga52c4c7bb0dc5c7d543386b24c8599401">sdcWrite</a>,</div><div class="line">  (<span class="keywordtype">bool</span> (*)(<span class="keywordtype">void</span> *))<a class="code" href="group___s_d_c.html#gac5335a331de234be5ceb3c76b12832db">sdcSync</a>,</div><div class="line">  (<span class="keywordtype">bool</span> (*)(<span class="keywordtype">void</span> *, <a class="code" href="struct_block_device_info.html">BlockDeviceInfo</a> *))<a class="code" href="group___s_d_c.html#gaf871018703e1d3700270c9333f6a9c13">sdcGetInfo</a></div><div class="line">}</div><div class="ttc" id="group___s_d_c_html_ga5193cb21902945f5ee2f4da01e27fe34"><div class="ttname"><a href="group___s_d_c.html#ga5193cb21902945f5ee2f4da01e27fe34">sdcConnect</a></div><div class="ttdeci">bool sdcConnect(SDCDriver *sdcp)</div><div class="ttdoc">Performs the initialization procedure on the inserted card. </div><div class="ttdef"><b>Definition:</b> <a href="hal__sdc_8c_source.html#l00622">hal_sdc.c:622</a></div></div>
<div class="ttc" id="group___s_d_c_html_ga8ae88a1eef94ed28fc4f78d824da2575"><div class="ttname"><a href="group___s_d_c.html#ga8ae88a1eef94ed28fc4f78d824da2575">sdcDisconnect</a></div><div class="ttdeci">bool sdcDisconnect(SDCDriver *sdcp)</div><div class="ttdoc">Brings the driver in a state safe for card removal. </div><div class="ttdef"><b>Definition:</b> <a href="hal__sdc_8c_source.html#l00761">hal_sdc.c:761</a></div></div>
<div class="ttc" id="group___s_d_c_html_ga4d0a851fa04fa57e698871901c97697f"><div class="ttname"><a href="group___s_d_c.html#ga4d0a851fa04fa57e698871901c97697f">sdcRead</a></div><div class="ttdeci">bool sdcRead(SDCDriver *sdcp, uint32_t startblk, uint8_t *buf, uint32_t n)</div><div class="ttdoc">Reads one or more blocks. </div><div class="ttdef"><b>Definition:</b> <a href="hal__sdc_8c_source.html#l00804">hal_sdc.c:804</a></div></div>
<div class="ttc" id="struct_block_device_info_html"><div class="ttname"><a href="struct_block_device_info.html">BlockDeviceInfo</a></div><div class="ttdoc">Block device info. </div><div class="ttdef"><b>Definition:</b> <a href="hal__ioblock_8h_source.html#l00055">hal_ioblock.h:55</a></div></div>
<div class="ttc" id="group___s_d_c_html_gac5335a331de234be5ceb3c76b12832db"><div class="ttname"><a href="group___s_d_c.html#gac5335a331de234be5ceb3c76b12832db">sdcSync</a></div><div class="ttdeci">bool sdcSync(SDCDriver *sdcp)</div><div class="ttdoc">Waits for card idle condition. </div><div class="ttdef"><b>Definition:</b> <a href="hal__sdc_8c_source.html#l00895">hal_sdc.c:895</a></div></div>
<div class="ttc" id="group___s_d_c_html_gaf871018703e1d3700270c9333f6a9c13"><div class="ttname"><a href="group___s_d_c.html#gaf871018703e1d3700270c9333f6a9c13">sdcGetInfo</a></div><div class="ttdeci">bool sdcGetInfo(SDCDriver *sdcp, BlockDeviceInfo *bdip)</div><div class="ttdoc">Returns the media info. </div><div class="ttdef"><b>Definition:</b> <a href="hal__sdc_8c_source.html#l00926">hal_sdc.c:926</a></div></div>
<div class="ttc" id="group___s_d_c_html_ga52c4c7bb0dc5c7d543386b24c8599401"><div class="ttname"><a href="group___s_d_c.html#ga52c4c7bb0dc5c7d543386b24c8599401">sdcWrite</a></div><div class="ttdeci">bool sdcWrite(SDCDriver *sdcp, uint32_t startblk, const uint8_t *buf, uint32_t n)</div><div class="ttdoc">Writes one or more blocks. </div><div class="ttdef"><b>Definition:</b> <a href="hal__sdc_8c_source.html#l00841">hal_sdc.c:841</a></div></div>
</div><!-- fragment -->
<p>Virtual methods table. </p>

<p>Definition at line <a class="el" href="hal__sdc_8c_source.html#l00074">74</a> of file <a class="el" href="hal__sdc_8c_source.html">hal_sdc.c</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#ga012d12a7461aa9a58f7d60c7ab18936e">sdcObjectInit()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun May 13 2018 00:51:42 for ChibiOS/HAL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
