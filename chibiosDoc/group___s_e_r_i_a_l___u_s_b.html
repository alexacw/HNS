<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ChibiOS/HAL: Serial over USB Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/HAL
   &#160;<span id="projectnumber">6.0.0</span>
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___s_e_r_i_a_l___u_s_b.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Serial over USB Driver<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a> &raquo; <a class="el" href="group___h_a_l___c_o_m_p_l_e_x___d_r_i_v_e_r_s.html">Complex Drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Serial over USB Driver.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Serial over USB Driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___s_e_r_i_a_l___u_s_b.png" border="0" alt="" usemap="#group______s__e__r__i__a__l______u__s__b"/>
<map name="group______s__e__r__i__a__l______u__s__b" id="group______s__e__r__i__a__l______u__s__b">
<area shape="rect" id="node2" href="group___h_a_l___c_o_m_p_l_e_x___d_r_i_v_e_r_s.html" title="HAL Complex Drivers. " alt="" coords="5,5,107,29"/>
</map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Serial over USB Driver. </p>
<p>This module implements an USB Communication Device Class (CDC) as a normal serial communication port accessible from the device application. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use the USB over Serial driver the <code>HAL_USE_SERIAL_USB</code> option must be enabled in <code>halconf.h</code>.</dd></dl>
<h1><a class="anchor" id="usb_serial_1"></a>
Driver State Machine</h1>
<p>The driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). </p><div align="center">
<img src="dot_inline_dotgraph_12.png" alt="dot_inline_dotgraph_12.png" border="0" usemap="#dot_inline_dotgraph_12.map"/>
<map name="dot_inline_dotgraph_12.map" id="dot_inline_dotgraph_12.map"></map>
</div>
 <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga28dd923c96d6404ba6effe9f329bc1a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga28dd923c96d6404ba6effe9f329bc1a4">_serial_usb_driver_data</a></td></tr>
<tr class="memdesc:ga28dd923c96d6404ba6effe9f329bc1a4"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="struct_serial_driver.html" title="Full duplex serial driver class. ">SerialDriver</a></code> specific data.  <a href="#ga28dd923c96d6404ba6effe9f329bc1a4">More...</a><br /></td></tr>
<tr class="separator:ga28dd923c96d6404ba6effe9f329bc1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f14e76c883cde7adeb9a366d5e679e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga3f14e76c883cde7adeb9a366d5e679e3">_serial_usb_driver_methods</a>&#160;&#160;&#160;<a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gaf23d5351675080d08be4cac30c5de151">_base_asynchronous_channel_methods</a></td></tr>
<tr class="memdesc:ga3f14e76c883cde7adeb9a366d5e679e3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="struct_serial_u_s_b_driver.html" title="Full duplex serial driver class. ">SerialUSBDriver</a></code> specific methods.  <a href="#ga3f14e76c883cde7adeb9a366d5e679e3">More...</a><br /></td></tr>
<tr class="separator:ga3f14e76c883cde7adeb9a366d5e679e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
SERIAL_USB configuration options</h2></td></tr>
<tr class="memitem:ga24727a5407c6a41af53b59588592da80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga24727a5407c6a41af53b59588592da80">SERIAL_USB_BUFFERS_SIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:ga24727a5407c6a41af53b59588592da80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial over USB buffers size.  <a href="#ga24727a5407c6a41af53b59588592da80">More...</a><br /></td></tr>
<tr class="separator:ga24727a5407c6a41af53b59588592da80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c332b2493fd2106beb13425549120fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga0c332b2493fd2106beb13425549120fe">SERIAL_USB_BUFFERS_NUMBER</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga0c332b2493fd2106beb13425549120fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial over USB number of buffers.  <a href="#ga0c332b2493fd2106beb13425549120fe">More...</a><br /></td></tr>
<tr class="separator:ga0c332b2493fd2106beb13425549120fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga4e4627094c51848d88aa2abf70fcd9da"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga4e4627094c51848d88aa2abf70fcd9da">SerialUSBDriver</a></td></tr>
<tr class="memdesc:ga4e4627094c51848d88aa2abf70fcd9da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a serial over USB driver.  <a href="#ga4e4627094c51848d88aa2abf70fcd9da">More...</a><br /></td></tr>
<tr class="separator:ga4e4627094c51848d88aa2abf70fcd9da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_serial_u_s_b_config.html">SerialUSBConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial over USB Driver configuration structure.  <a href="struct_serial_u_s_b_config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_serial_u_s_b_driver_v_m_t.html">SerialUSBDriverVMT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="struct_serial_driver.html" title="Full duplex serial driver class. ">SerialDriver</a></code> virtual methods table.  <a href="struct_serial_u_s_b_driver_v_m_t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full duplex serial driver class.  <a href="struct_serial_u_s_b_driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga278a0b24aa52959889f37ab7e8041698"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga278a0b24aa52959889f37ab7e8041698">ibnotify</a> (<a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga6f5c3ac35ca9e09e794b3c261a67b99e">io_buffers_queue_t</a> *bqp)</td></tr>
<tr class="memdesc:ga278a0b24aa52959889f37ab7e8041698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification of empty buffer released into the input buffers queue.  <a href="#ga278a0b24aa52959889f37ab7e8041698">More...</a><br /></td></tr>
<tr class="separator:ga278a0b24aa52959889f37ab7e8041698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf0e8ad9d01f2cbe14aa5a4e49f099547"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#gaf0e8ad9d01f2cbe14aa5a4e49f099547">obnotify</a> (<a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga6f5c3ac35ca9e09e794b3c261a67b99e">io_buffers_queue_t</a> *bqp)</td></tr>
<tr class="memdesc:gaf0e8ad9d01f2cbe14aa5a4e49f099547"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification of filled buffer inserted into the output buffers queue.  <a href="#gaf0e8ad9d01f2cbe14aa5a4e49f099547">More...</a><br /></td></tr>
<tr class="separator:gaf0e8ad9d01f2cbe14aa5a4e49f099547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga558c25112215dc3b86a30cac68553540"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga558c25112215dc3b86a30cac68553540">sduInit</a> (void)</td></tr>
<tr class="memdesc:ga558c25112215dc3b86a30cac68553540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial Driver initialization.  <a href="#ga558c25112215dc3b86a30cac68553540">More...</a><br /></td></tr>
<tr class="separator:ga558c25112215dc3b86a30cac68553540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5199136afebc5c36bf4f91c092f47b65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga5199136afebc5c36bf4f91c092f47b65">sduObjectInit</a> (<a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *sdup)</td></tr>
<tr class="memdesc:ga5199136afebc5c36bf4f91c092f47b65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a generic full duplex driver object.  <a href="#ga5199136afebc5c36bf4f91c092f47b65">More...</a><br /></td></tr>
<tr class="separator:ga5199136afebc5c36bf4f91c092f47b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e42edaac20e1cdc90cbd103d3e23f97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga8e42edaac20e1cdc90cbd103d3e23f97">sduStart</a> (<a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *sdup, const <a class="el" href="struct_serial_u_s_b_config.html">SerialUSBConfig</a> *config)</td></tr>
<tr class="memdesc:ga8e42edaac20e1cdc90cbd103d3e23f97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and starts the driver.  <a href="#ga8e42edaac20e1cdc90cbd103d3e23f97">More...</a><br /></td></tr>
<tr class="separator:ga8e42edaac20e1cdc90cbd103d3e23f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9bf98cff1ce7b0b18b00e0bb77da98ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga9bf98cff1ce7b0b18b00e0bb77da98ae">sduStop</a> (<a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *sdup)</td></tr>
<tr class="memdesc:ga9bf98cff1ce7b0b18b00e0bb77da98ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the driver.  <a href="#ga9bf98cff1ce7b0b18b00e0bb77da98ae">More...</a><br /></td></tr>
<tr class="separator:ga9bf98cff1ce7b0b18b00e0bb77da98ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fe8a66b62d5841a141f0cd2af38b433"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga0fe8a66b62d5841a141f0cd2af38b433">sduSuspendHookI</a> (<a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *sdup)</td></tr>
<tr class="memdesc:ga0fe8a66b62d5841a141f0cd2af38b433"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB device suspend handler.  <a href="#ga0fe8a66b62d5841a141f0cd2af38b433">More...</a><br /></td></tr>
<tr class="separator:ga0fe8a66b62d5841a141f0cd2af38b433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72d9750ce12bcd2897a7f48d156d7d9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga72d9750ce12bcd2897a7f48d156d7d9b">sduWakeupHookI</a> (<a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *sdup)</td></tr>
<tr class="memdesc:ga72d9750ce12bcd2897a7f48d156d7d9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB device wakeup handler.  <a href="#ga72d9750ce12bcd2897a7f48d156d7d9b">More...</a><br /></td></tr>
<tr class="separator:ga72d9750ce12bcd2897a7f48d156d7d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd2c21dbaa872a6d1476ccb01bd22435"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#gafd2c21dbaa872a6d1476ccb01bd22435">sduConfigureHookI</a> (<a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *sdup)</td></tr>
<tr class="memdesc:gafd2c21dbaa872a6d1476ccb01bd22435"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB device configured handler.  <a href="#gafd2c21dbaa872a6d1476ccb01bd22435">More...</a><br /></td></tr>
<tr class="separator:gafd2c21dbaa872a6d1476ccb01bd22435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga085549af8a64827bbf22b0cfab823fec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga085549af8a64827bbf22b0cfab823fec">sduRequestsHook</a> (<a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *usbp)</td></tr>
<tr class="memdesc:ga085549af8a64827bbf22b0cfab823fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default requests hook.  <a href="#ga085549af8a64827bbf22b0cfab823fec">More...</a><br /></td></tr>
<tr class="separator:ga085549af8a64827bbf22b0cfab823fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2e0ecafd1fd360064a658479c37537d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#gaa2e0ecafd1fd360064a658479c37537d">sduSOFHookI</a> (<a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *sdup)</td></tr>
<tr class="memdesc:gaa2e0ecafd1fd360064a658479c37537d"><td class="mdescLeft">&#160;</td><td class="mdescRight">SOF handler.  <a href="#gaa2e0ecafd1fd360064a658479c37537d">More...</a><br /></td></tr>
<tr class="separator:gaa2e0ecafd1fd360064a658479c37537d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9fd9a889dd9b7be13025303589882b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#gac9fd9a889dd9b7be13025303589882b9">sduDataTransmitted</a> (<a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *usbp, <a class="el" href="group___u_s_b.html#ga0edae452a7b96909ee9c95ba3ca31606">usbep_t</a> ep)</td></tr>
<tr class="memdesc:gac9fd9a889dd9b7be13025303589882b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default data transmitted callback.  <a href="#gac9fd9a889dd9b7be13025303589882b9">More...</a><br /></td></tr>
<tr class="separator:gac9fd9a889dd9b7be13025303589882b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68d19dfaea20b824a7bd786981ec2c3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga68d19dfaea20b824a7bd786981ec2c3b">sduDataReceived</a> (<a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *usbp, <a class="el" href="group___u_s_b.html#ga0edae452a7b96909ee9c95ba3ca31606">usbep_t</a> ep)</td></tr>
<tr class="memdesc:ga68d19dfaea20b824a7bd786981ec2c3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default data received callback.  <a href="#ga68d19dfaea20b824a7bd786981ec2c3b">More...</a><br /></td></tr>
<tr class="separator:ga68d19dfaea20b824a7bd786981ec2c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50c4d3564f437802badcd6b1601f0a7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga50c4d3564f437802badcd6b1601f0a7d">sduInterruptTransmitted</a> (<a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *usbp, <a class="el" href="group___u_s_b.html#ga0edae452a7b96909ee9c95ba3ca31606">usbep_t</a> ep)</td></tr>
<tr class="memdesc:ga50c4d3564f437802badcd6b1601f0a7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default data received callback.  <a href="#ga50c4d3564f437802badcd6b1601f0a7d">More...</a><br /></td></tr>
<tr class="separator:ga50c4d3564f437802badcd6b1601f0a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79a5ed26cb722949eb0c4c0923c69607"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga79a5ed26cb722949eb0c4c0923c69607">sduControl</a> (<a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *usbp, unsigned int operation, void *arg)</td></tr>
<tr class="memdesc:ga79a5ed26cb722949eb0c4c0923c69607"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control operation on a serial USB port.  <a href="#ga79a5ed26cb722949eb0c4c0923c69607">More...</a><br /></td></tr>
<tr class="separator:ga79a5ed26cb722949eb0c4c0923c69607"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga24727a5407c6a41af53b59588592da80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERIAL_USB_BUFFERS_SIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serial over USB buffers size. </p>
<p>Configuration parameter, the buffer size must be a multiple of the USB data endpoint maximum packet size. </p><dl class="section note"><dt>Note</dt><dd>The default is 256 bytes for both the transmission and receive buffers. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8h_source.html#l00052">52</a> of file <a class="el" href="hal__serial__usb_8h_source.html">hal_serial_usb.h</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga5199136afebc5c36bf4f91c092f47b65">sduObjectInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0c332b2493fd2106beb13425549120fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERIAL_USB_BUFFERS_NUMBER&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serial over USB number of buffers. </p>
<dl class="section note"><dt>Note</dt><dd>The default is 2 buffers. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8h_source.html#l00060">60</a> of file <a class="el" href="hal__serial__usb_8h_source.html">hal_serial_usb.h</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga5199136afebc5c36bf4f91c092f47b65">sduObjectInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga28dd923c96d6404ba6effe9f329bc1a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _serial_usb_driver_data</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group___i_o___c_h_a_n_n_e_l.html#ga6c1762f0b3873dd09f9e655c951b9300">_base_asynchronous_channel_data</a>                                           \</div><div class="line">  <span class="comment">/* Driver state.*/</span>                                                        <a class="code" href="group___s_e_r_i_a_l___u_s_b.html#gad8e200cc2eed0d923d0dc81f0663deb6">\</a></div><div class="line"><a class="code" href="group___s_e_r_i_a_l___u_s_b.html#gad8e200cc2eed0d923d0dc81f0663deb6">  sdustate_t</a>                state;                                          \</div><div class="line">  <span class="comment">/* Input buffers queue.*/</span>                                                 <a class="code" href="group___h_a_l___b_u_f_f_e_r_s.html#ga20affbcfeae05fe2b19a48f5a575b693">\</a></div><div class="line"><a class="code" href="group___h_a_l___b_u_f_f_e_r_s.html#ga20affbcfeae05fe2b19a48f5a575b693">  input_buffers_queue_t</a>     ibqueue;                                        \</div><div class="line">  <span class="comment">/* Output queue.*/</span>                                                        <a class="code" href="group___h_a_l___b_u_f_f_e_r_s.html#ga5061b369ed00f6aacd006d476775f15f">\</a></div><div class="line"><a class="code" href="group___h_a_l___b_u_f_f_e_r_s.html#ga5061b369ed00f6aacd006d476775f15f">  output_buffers_queue_t</a>    obqueue;                                        \</div><div class="line">  <span class="comment">/* Input buffer.*/</span>                                                        \</div><div class="line">  uint8_t                   ib[<a class="code" href="group___h_a_l___b_u_f_f_e_r_s.html#ga494ec0a335a603cf38a0477b73d01680">BQ_BUFFER_SIZE</a>(<a class="code" href="group___s_e_r_i_a_l___u_s_b.html#ga0c332b2493fd2106beb13425549120fe">SERIAL_USB_BUFFERS_NUMBER</a>,    \</div><div class="line">                                              <a class="code" href="group___s_e_r_i_a_l___u_s_b.html#ga24727a5407c6a41af53b59588592da80">SERIAL_USB_BUFFERS_SIZE</a>)];    \</div><div class="line">  <span class="comment">/* Output buffer.*/</span>                                                       \</div><div class="line">  uint8_t                   ob[<a class="code" href="group___h_a_l___b_u_f_f_e_r_s.html#ga494ec0a335a603cf38a0477b73d01680">BQ_BUFFER_SIZE</a>(<a class="code" href="group___s_e_r_i_a_l___u_s_b.html#ga0c332b2493fd2106beb13425549120fe">SERIAL_USB_BUFFERS_NUMBER</a>,    \</div><div class="line">                                              <a class="code" href="group___s_e_r_i_a_l___u_s_b.html#ga24727a5407c6a41af53b59588592da80">SERIAL_USB_BUFFERS_SIZE</a>)];    \</div><div class="line">  <span class="comment">/* End of the mandatory fields.*/</span>                                         \</div><div class="line">  <span class="comment">/* Current configuration data.*/</span>                                          \</div><div class="line">  const <a class="code" href="struct_serial_u_s_b_config.html">SerialUSBConfig</a>     *config;</div><div class="ttc" id="group___h_a_l___b_u_f_f_e_r_s_html_ga5061b369ed00f6aacd006d476775f15f"><div class="ttname"><a href="group___h_a_l___b_u_f_f_e_r_s.html#ga5061b369ed00f6aacd006d476775f15f">output_buffers_queue_t</a></div><div class="ttdeci">io_buffers_queue_t output_buffers_queue_t</div><div class="ttdoc">Type of an output buffers queue. </div><div class="ttdef"><b>Definition:</b> <a href="hal__buffers_8h_source.html#l00126">hal_buffers.h:126</a></div></div>
<div class="ttc" id="group___h_a_l___b_u_f_f_e_r_s_html_ga20affbcfeae05fe2b19a48f5a575b693"><div class="ttname"><a href="group___h_a_l___b_u_f_f_e_r_s.html#ga20affbcfeae05fe2b19a48f5a575b693">input_buffers_queue_t</a></div><div class="ttdeci">io_buffers_queue_t input_buffers_queue_t</div><div class="ttdoc">Type of an input buffers queue. </div><div class="ttdef"><b>Definition:</b> <a href="hal__buffers_8h_source.html#l00121">hal_buffers.h:121</a></div></div>
<div class="ttc" id="group___s_e_r_i_a_l___u_s_b_html_gad8e200cc2eed0d923d0dc81f0663deb6"><div class="ttname"><a href="group___s_e_r_i_a_l___u_s_b.html#gad8e200cc2eed0d923d0dc81f0663deb6">sdustate_t</a></div><div class="ttdeci">sdustate_t</div><div class="ttdoc">Driver state machine possible states. </div><div class="ttdef"><b>Definition:</b> <a href="hal__serial__usb_8h_source.html#l00079">hal_serial_usb.h:79</a></div></div>
<div class="ttc" id="group___s_e_r_i_a_l___u_s_b_html_ga24727a5407c6a41af53b59588592da80"><div class="ttname"><a href="group___s_e_r_i_a_l___u_s_b.html#ga24727a5407c6a41af53b59588592da80">SERIAL_USB_BUFFERS_SIZE</a></div><div class="ttdeci">#define SERIAL_USB_BUFFERS_SIZE</div><div class="ttdoc">Serial over USB buffers size. </div><div class="ttdef"><b>Definition:</b> <a href="hal__serial__usb_8h_source.html#l00052">hal_serial_usb.h:52</a></div></div>
<div class="ttc" id="group___i_o___c_h_a_n_n_e_l_html_ga6c1762f0b3873dd09f9e655c951b9300"><div class="ttname"><a href="group___i_o___c_h_a_n_n_e_l.html#ga6c1762f0b3873dd09f9e655c951b9300">_base_asynchronous_channel_data</a></div><div class="ttdeci">#define _base_asynchronous_channel_data</div><div class="ttdoc">BaseAsynchronousChannel specific data. </div><div class="ttdef"><b>Definition:</b> <a href="hal__channels_8h_source.html#l00253">hal_channels.h:253</a></div></div>
<div class="ttc" id="struct_serial_u_s_b_config_html"><div class="ttname"><a href="struct_serial_u_s_b_config.html">SerialUSBConfig</a></div><div class="ttdoc">Serial over USB Driver configuration structure. </div><div class="ttdef"><b>Definition:</b> <a href="hal__serial__usb_8h_source.html#l00095">hal_serial_usb.h:95</a></div></div>
<div class="ttc" id="group___h_a_l___b_u_f_f_e_r_s_html_ga494ec0a335a603cf38a0477b73d01680"><div class="ttname"><a href="group___h_a_l___b_u_f_f_e_r_s.html#ga494ec0a335a603cf38a0477b73d01680">BQ_BUFFER_SIZE</a></div><div class="ttdeci">#define BQ_BUFFER_SIZE(n, size)</div><div class="ttdoc">Computes the size of a buffers queue buffer size. </div><div class="ttdef"><b>Definition:</b> <a href="hal__buffers_8h_source.html#l00138">hal_buffers.h:138</a></div></div>
<div class="ttc" id="group___s_e_r_i_a_l___u_s_b_html_ga0c332b2493fd2106beb13425549120fe"><div class="ttname"><a href="group___s_e_r_i_a_l___u_s_b.html#ga0c332b2493fd2106beb13425549120fe">SERIAL_USB_BUFFERS_NUMBER</a></div><div class="ttdeci">#define SERIAL_USB_BUFFERS_NUMBER</div><div class="ttdoc">Serial over USB number of buffers. </div><div class="ttdef"><b>Definition:</b> <a href="hal__serial__usb_8h_source.html#l00060">hal_serial_usb.h:60</a></div></div>
</div><!-- fragment -->
<p><code><a class="el" href="struct_serial_driver.html" title="Full duplex serial driver class. ">SerialDriver</a></code> specific data. </p>

<p>Definition at line <a class="el" href="hal__serial__usb_8h_source.html#l00119">119</a> of file <a class="el" href="hal__serial__usb_8h_source.html">hal_serial_usb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3f14e76c883cde7adeb9a366d5e679e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _serial_usb_driver_methods&#160;&#160;&#160;<a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gaf23d5351675080d08be4cac30c5de151">_base_asynchronous_channel_methods</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code><a class="el" href="struct_serial_u_s_b_driver.html" title="Full duplex serial driver class. ">SerialUSBDriver</a></code> specific methods. </p>

<p>Definition at line <a class="el" href="hal__serial__usb_8h_source.html#l00140">140</a> of file <a class="el" href="hal__serial__usb_8h_source.html">hal_serial_usb.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga4e4627094c51848d88aa2abf70fcd9da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> <a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure representing a serial over USB driver. </p>

<p>Definition at line <a class="el" href="hal__serial__usb_8h_source.html#l00088">88</a> of file <a class="el" href="hal__serial__usb_8h_source.html">hal_serial_usb.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gad8e200cc2eed0d923d0dc81f0663deb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#gad8e200cc2eed0d923d0dc81f0663deb6">sdustate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver state machine possible states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggad8e200cc2eed0d923d0dc81f0663deb6a7e5adb98696c9b91a75e73e3730615ca"></a>SDU_UNINIT&#160;</td><td class="fielddoc">
<p>Not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad8e200cc2eed0d923d0dc81f0663deb6a72e855548ee94ced137e565e3877f567"></a>SDU_STOP&#160;</td><td class="fielddoc">
<p>Stopped. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad8e200cc2eed0d923d0dc81f0663deb6a81bbf72bfef6a24af3883bc6bf08807b"></a>SDU_READY&#160;</td><td class="fielddoc">
<p>Ready. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="hal__serial__usb_8h_source.html#l00079">79</a> of file <a class="el" href="hal__serial__usb_8h_source.html">hal_serial_usb.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga278a0b24aa52959889f37ab7e8041698"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ibnotify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga6f5c3ac35ca9e09e794b3c261a67b99e">io_buffers_queue_t</a> *&#160;</td>
          <td class="paramname"><em>bqp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notification of empty buffer released into the input buffers queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bqp</td><td>the buffers queue pointer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00167">167</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#gaf2031ef4d3f18c4189df86b4e90a50f4">bqGetLinkX</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga5199136afebc5c36bf4f91c092f47b65">sduObjectInit()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf0e8ad9d01f2cbe14aa5a4e49f099547"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void obnotify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga6f5c3ac35ca9e09e794b3c261a67b99e">io_buffers_queue_t</a> *&#160;</td>
          <td class="paramname"><em>bqp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notification of filled buffer inserted into the output buffers queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bqp</td><td>the buffers queue pointer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00177">177</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#gaf2031ef4d3f18c4189df86b4e90a50f4">bqGetLinkX</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga4f4a4180bc16647e80899247699cdafb">obqGetFullBufferI()</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ggad8e200cc2eed0d923d0dc81f0663deb6a81bbf72bfef6a24af3883bc6bf08807b">SDU_READY</a>, <a class="el" href="group___u_s_b.html#ggaea8ee04aa4074e48c7928560bd9ec901aba6a448c0000e1ff3d2903b544a7e26b">USB_ACTIVE</a>, <a class="el" href="group___u_s_b.html#ga057a39f8e281d1074c4d5165bcd8753c">usbGetDriverStateI</a>, <a class="el" href="group___u_s_b.html#ga9558214e5706dfcd016b5204b9d548ef">usbGetTransmitStatusI</a>, and <a class="el" href="group___u_s_b.html#ga68806a465ab83984d4e4fdb335405079">usbStartTransmitI()</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga5199136afebc5c36bf4f91c092f47b65">sduObjectInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_e_r_i_a_l___u_s_b_gaf0e8ad9d01f2cbe14aa5a4e49f099547_cgraph.png" border="0" usemap="#group___s_e_r_i_a_l___u_s_b_gaf0e8ad9d01f2cbe14aa5a4e49f099547_cgraph" alt=""/></div>
<map name="group___s_e_r_i_a_l___u_s_b_gaf0e8ad9d01f2cbe14aa5a4e49f099547_cgraph" id="group___s_e_r_i_a_l___u_s_b_gaf0e8ad9d01f2cbe14aa5a4e49f099547_cgraph">
<area shape="rect" id="node2" href="group___h_a_l___b_u_f_f_e_r_s.html#ga4f4a4180bc16647e80899247699cdafb" title="Gets the next filled buffer from the queue. " alt="" coords="112,5,219,29"/>
<area shape="rect" id="node3" href="group___u_s_b.html#ga68806a465ab83984d4e4fdb335405079" title="Starts a transmit transaction on an IN endpoint. " alt="" coords="112,53,219,77"/>
<area shape="rect" id="node4" href="group___u_s_b.html#gab03273c7bdd1779638ef66bd3b20b2b9" title="Starts a transmit operation on an IN endpoint. " alt="" coords="267,53,363,77"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga558c25112215dc3b86a30cac68553540"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serial Driver initialization. </p>
<dl class="section note"><dt>Note</dt><dd>This function is implicitly invoked by <code><a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d" title="HAL initialization. ">halInit()</a></code>, there is no need to explicitly initialize the driver.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00210">210</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d">halInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5199136afebc5c36bf4f91c092f47b65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduObjectInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *&#160;</td>
          <td class="paramname"><em>sdup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a generic full duplex driver object. </p>
<p>The HW dependent part of the initialization has to be performed outside, usually in the hardware initialization code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sdup</td><td>pointer to a <code><a class="el" href="struct_serial_u_s_b_driver.html" title="Full duplex serial driver class. ">SerialUSBDriver</a></code> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00222">222</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga278a0b24aa52959889f37ab7e8041698">ibnotify()</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga8228911a509c211b33c0d94f01f013da">ibqObjectInit()</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#gaf0e8ad9d01f2cbe14aa5a4e49f099547">obnotify()</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga6538ad79607b2ee78c20a560a9ffc17a">obqObjectInit()</a>, <a class="el" href="group___o_s_a_l.html#gab8a1810d5fe09eba979d369b590fd564">osalEventObjectInit()</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ggad8e200cc2eed0d923d0dc81f0663deb6a72e855548ee94ced137e565e3877f567">SDU_STOP</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga0c332b2493fd2106beb13425549120fe">SERIAL_USB_BUFFERS_NUMBER</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga24727a5407c6a41af53b59588592da80">SERIAL_USB_BUFFERS_SIZE</a>, and <a class="el" href="struct_serial_u_s_b_driver.html#a1a0a1f0ce9ddb041fa4c071f2c7e5812">SerialUSBDriver::vmt</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_e_r_i_a_l___u_s_b_ga5199136afebc5c36bf4f91c092f47b65_cgraph.png" border="0" usemap="#group___s_e_r_i_a_l___u_s_b_ga5199136afebc5c36bf4f91c092f47b65_cgraph" alt=""/></div>
<map name="group___s_e_r_i_a_l___u_s_b_ga5199136afebc5c36bf4f91c092f47b65_cgraph" id="group___s_e_r_i_a_l___u_s_b_ga5199136afebc5c36bf4f91c092f47b65_cgraph">
<area shape="rect" id="node2" href="group___s_e_r_i_a_l___u_s_b.html#ga278a0b24aa52959889f37ab7e8041698" title="Notification of empty buffer released into the input buffers queue. " alt="" coords="165,5,219,29"/>
<area shape="rect" id="node3" href="group___h_a_l___b_u_f_f_e_r_s.html#ga8228911a509c211b33c0d94f01f013da" title="Initializes an input buffers queue object. " alt="" coords="152,53,232,77"/>
<area shape="rect" id="node5" href="group___s_e_r_i_a_l___u_s_b.html#gaf0e8ad9d01f2cbe14aa5a4e49f099547" title="Notification of filled buffer inserted into the output buffers queue. " alt="" coords="163,149,221,173"/>
<area shape="rect" id="node8" href="group___h_a_l___b_u_f_f_e_r_s.html#ga6538ad79607b2ee78c20a560a9ffc17a" title="Initializes an output buffers queue object. " alt="" coords="150,101,234,125"/>
<area shape="rect" id="node9" href="group___o_s_a_l.html#gab8a1810d5fe09eba979d369b590fd564" title="Initializes an event source object. " alt="" coords="136,197,248,221"/>
<area shape="rect" id="node4" href="group___o_s_a_l.html#ga345fc7214d1863e6471ae8433b995a10" title="Initializes a threads queue object. " alt="" coords="296,77,448,101"/>
<area shape="rect" id="node6" href="group___h_a_l___b_u_f_f_e_r_s.html#ga4f4a4180bc16647e80899247699cdafb" title="Gets the next filled buffer from the queue. " alt="" coords="319,125,425,149"/>
<area shape="rect" id="node7" href="group___u_s_b.html#ga68806a465ab83984d4e4fdb335405079" title="Starts a transmit transaction on an IN endpoint. " alt="" coords="319,173,425,197"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8e42edaac20e1cdc90cbd103d3e23f97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *&#160;</td>
          <td class="paramname"><em>sdup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_serial_u_s_b_config.html">SerialUSBConfig</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and starts the driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdup</td><td>pointer to a <code><a class="el" href="struct_serial_u_s_b_driver.html" title="Full duplex serial driver class. ">SerialUSBDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>the serial over USB driver configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00243">243</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="struct_serial_u_s_b_config.html#a0a39d9f365e1c1657769f912b0dab11c">SerialUSBConfig::bulk_in</a>, <a class="el" href="struct_serial_u_s_b_config.html#aa21de4eb74da1b3786af13e8c9f744e2">SerialUSBConfig::bulk_out</a>, <a class="el" href="struct_u_s_b_driver.html#a5923c61079726f3486b66fb25d74ca1e">USBDriver::in_params</a>, <a class="el" href="struct_serial_u_s_b_config.html#ab36e816f8fed04ad4618102a206fd147">SerialUSBConfig::int_in</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>, <a class="el" href="struct_u_s_b_driver.html#af1e068c7fbb260eda1a99311bd0c2312">USBDriver::out_params</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ggad8e200cc2eed0d923d0dc81f0663deb6a81bbf72bfef6a24af3883bc6bf08807b">SDU_READY</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ggad8e200cc2eed0d923d0dc81f0663deb6a72e855548ee94ced137e565e3877f567">SDU_STOP</a>, and <a class="el" href="struct_serial_u_s_b_config.html#ae96df67c5ff9c0a49fb6ada7a901075d">SerialUSBConfig::usbp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_e_r_i_a_l___u_s_b_ga8e42edaac20e1cdc90cbd103d3e23f97_cgraph.png" border="0" usemap="#group___s_e_r_i_a_l___u_s_b_ga8e42edaac20e1cdc90cbd103d3e23f97_cgraph" alt=""/></div>
<map name="group___s_e_r_i_a_l___u_s_b_ga8e42edaac20e1cdc90cbd103d3e23f97_cgraph" id="group___s_e_r_i_a_l___u_s_b_ga8e42edaac20e1cdc90cbd103d3e23f97_cgraph">
<area shape="rect" id="node2" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="121,5,201,29"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="116,53,207,77"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9bf98cff1ce7b0b18b00e0bb77da98ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *&#160;</td>
          <td class="paramname"><em>sdup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the driver. </p>
<p>Any thread waiting on the driver's queues will be awakened with the message <code>MSG_RESET</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdup</td><td>pointer to a <code><a class="el" href="struct_serial_u_s_b_driver.html" title="Full duplex serial driver class. ">SerialUSBDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00270">270</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gaf80bbd6b2f9666f4ec261aa3d77fa20f">CHN_DISCONNECTED</a>, <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gabaa163d6394c080ca13dbced7120698f">chnAddFlagsI</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#gabb11859756f526b7f2150aaef6a4667c">ibqResetI()</a>, <a class="el" href="struct_u_s_b_driver.html#a5923c61079726f3486b66fb25d74ca1e">USBDriver::in_params</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#gaddd8be7bc7d1c4c18ca709aff412f79c">obqResetI()</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga5850406055069d6a9b88103ad34b111d">osalOsRescheduleS()</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>, <a class="el" href="struct_u_s_b_driver.html#af1e068c7fbb260eda1a99311bd0c2312">USBDriver::out_params</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ggad8e200cc2eed0d923d0dc81f0663deb6a81bbf72bfef6a24af3883bc6bf08807b">SDU_READY</a>, and <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ggad8e200cc2eed0d923d0dc81f0663deb6a72e855548ee94ced137e565e3877f567">SDU_STOP</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_e_r_i_a_l___u_s_b_ga9bf98cff1ce7b0b18b00e0bb77da98ae_cgraph.png" border="0" usemap="#group___s_e_r_i_a_l___u_s_b_ga9bf98cff1ce7b0b18b00e0bb77da98ae_cgraph" alt=""/></div>
<map name="group___s_e_r_i_a_l___u_s_b_ga9bf98cff1ce7b0b18b00e0bb77da98ae_cgraph" id="group___s_e_r_i_a_l___u_s_b_ga9bf98cff1ce7b0b18b00e0bb77da98ae_cgraph">
<area shape="rect" id="node2" href="group___h_a_l___b_u_f_f_e_r_s.html#gabb11859756f526b7f2150aaef6a4667c" title="Resets an input buffers queue. " alt="" coords="140,5,207,29"/>
<area shape="rect" id="node4" href="group___h_a_l___b_u_f_f_e_r_s.html#gaddd8be7bc7d1c4c18ca709aff412f79c" title="Resets an output buffers queue. " alt="" coords="138,53,209,77"/>
<area shape="rect" id="node5" href="group___o_s_a_l.html#ga5850406055069d6a9b88103ad34b111d" title="Checks if a reschedule is required and performs it. " alt="" coords="115,101,232,125"/>
<area shape="rect" id="node6" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="133,149,213,173"/>
<area shape="rect" id="node7" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="128,197,219,221"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga27a8123a61493028127897d839a4d75a" title="Dequeues and wakes up all threads from the queue. " alt="" coords="280,29,415,53"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0fe8a66b62d5841a141f0cd2af38b433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduSuspendHookI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *&#160;</td>
          <td class="paramname"><em>sdup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USB device suspend handler. </p>
<p>Generates a <code>CHN_DISCONNECT</code> event and puts queues in non-blocking mode, this way the application cannot get stuck in the middle of an I/O operations. </p><dl class="section note"><dt>Note</dt><dd>If this function is not called from an ISR then an explicit call to <code><a class="el" href="group___o_s_a_l.html#ga5850406055069d6a9b88103ad34b111d" title="Checks if a reschedule is required and performs it. ">osalOsRescheduleS()</a></code> in necessary afterward.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdup</td><td>pointer to a <code><a class="el" href="struct_serial_u_s_b_driver.html" title="Full duplex serial driver class. ">SerialUSBDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00310">310</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga6e68f31b7cf89f783fa069fac885071b">bqSuspendI</a>, <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gaf80bbd6b2f9666f4ec261aa3d77fa20f">CHN_DISCONNECTED</a>, and <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gabaa163d6394c080ca13dbced7120698f">chnAddFlagsI</a>.</p>

</div>
</div>
<a class="anchor" id="ga72d9750ce12bcd2897a7f48d156d7d9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduWakeupHookI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *&#160;</td>
          <td class="paramname"><em>sdup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USB device wakeup handler. </p>
<p>Generates a <code>CHN_CONNECT</code> event and resumes normal queues operations.</p>
<dl class="section note"><dt>Note</dt><dd>If this function is not called from an ISR then an explicit call to <code><a class="el" href="group___o_s_a_l.html#ga5850406055069d6a9b88103ad34b111d" title="Checks if a reschedule is required and performs it. ">osalOsRescheduleS()</a></code> in necessary afterward.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdup</td><td>pointer to a <code><a class="el" href="struct_serial_u_s_b_driver.html" title="Full duplex serial driver class. ">SerialUSBDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00329">329</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#gabc36040a8bf1374444b1f7188ade7188">bqResumeX</a>, <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gac84acebe244e112bfc98ddcf315b88ab">CHN_CONNECTED</a>, and <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gabaa163d6394c080ca13dbced7120698f">chnAddFlagsI</a>.</p>

</div>
</div>
<a class="anchor" id="gafd2c21dbaa872a6d1476ccb01bd22435"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduConfigureHookI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *&#160;</td>
          <td class="paramname"><em>sdup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USB device configured handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdup</td><td>pointer to a <code><a class="el" href="struct_serial_u_s_b_driver.html" title="Full duplex serial driver class. ">SerialUSBDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00343">343</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#gabc36040a8bf1374444b1f7188ade7188">bqResumeX</a>, <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gac84acebe244e112bfc98ddcf315b88ab">CHN_CONNECTED</a>, <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gabaa163d6394c080ca13dbced7120698f">chnAddFlagsI</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#gabb11859756f526b7f2150aaef6a4667c">ibqResetI()</a>, and <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#gaddd8be7bc7d1c4c18ca709aff412f79c">obqResetI()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_e_r_i_a_l___u_s_b_gafd2c21dbaa872a6d1476ccb01bd22435_cgraph.png" border="0" usemap="#group___s_e_r_i_a_l___u_s_b_gafd2c21dbaa872a6d1476ccb01bd22435_cgraph" alt=""/></div>
<map name="group___s_e_r_i_a_l___u_s_b_gafd2c21dbaa872a6d1476ccb01bd22435_cgraph" id="group___s_e_r_i_a_l___u_s_b_gafd2c21dbaa872a6d1476ccb01bd22435_cgraph">
<area shape="rect" id="node2" href="group___h_a_l___b_u_f_f_e_r_s.html#gabb11859756f526b7f2150aaef6a4667c" title="Resets an input buffers queue. " alt="" coords="170,5,237,29"/>
<area shape="rect" id="node4" href="group___h_a_l___b_u_f_f_e_r_s.html#gaddd8be7bc7d1c4c18ca709aff412f79c" title="Resets an output buffers queue. " alt="" coords="168,53,239,77"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga27a8123a61493028127897d839a4d75a" title="Dequeues and wakes up all threads from the queue. " alt="" coords="287,29,421,53"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga085549af8a64827bbf22b0cfab823fec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sduRequestsHook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *&#160;</td>
          <td class="paramname"><em>usbp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default requests hook. </p>
<p>Applications wanting to use the Serial over USB driver can use this function as requests hook in the USB configuration. The following requests are emulated:</p><ul>
<li>CDC_GET_LINE_CODING.</li>
<li>CDC_SET_LINE_CODING.</li>
<li>CDC_SET_CONTROL_LINE_STATE.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usbp</td><td>pointer to the <code><a class="el" href="struct_u_s_b_driver.html" title="Structure representing an USB driver. ">USBDriver</a></code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The hook status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Message handled internally. </td></tr>
    <tr><td class="paramname">false</td><td>Message not handled. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00368">368</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="struct_u_s_b_driver.html#a988e3e63fbd49b4492444214cb883c3e">USBDriver::setup</a>, and <a class="el" href="group___u_s_b.html#ga8f61199e53f68dd9875b1decbd3da07c">usbSetupTransfer</a>.</p>

</div>
</div>
<a class="anchor" id="gaa2e0ecafd1fd360064a658479c37537d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduSOFHookI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_serial_u_s_b_driver.html">SerialUSBDriver</a> *&#160;</td>
          <td class="paramname"><em>sdup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SOF handler. </p>
<p>The SOF interrupt is used for automatic flushing of incomplete buffers pending in the output queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdup</td><td>pointer to a <code><a class="el" href="struct_serial_u_s_b_driver.html" title="Full duplex serial driver class. ">SerialUSBDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00398">398</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga4f4a4180bc16647e80899247699cdafb">obqGetFullBufferI()</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga517f391c5db3974d78bfab7493d5cbe9">obqTryFlushI()</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ggad8e200cc2eed0d923d0dc81f0663deb6a81bbf72bfef6a24af3883bc6bf08807b">SDU_READY</a>, <a class="el" href="group___u_s_b.html#ggaea8ee04aa4074e48c7928560bd9ec901aba6a448c0000e1ff3d2903b544a7e26b">USB_ACTIVE</a>, <a class="el" href="group___u_s_b.html#ga057a39f8e281d1074c4d5165bcd8753c">usbGetDriverStateI</a>, <a class="el" href="group___u_s_b.html#ga9558214e5706dfcd016b5204b9d548ef">usbGetTransmitStatusI</a>, and <a class="el" href="group___u_s_b.html#ga68806a465ab83984d4e4fdb335405079">usbStartTransmitI()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_e_r_i_a_l___u_s_b_gaa2e0ecafd1fd360064a658479c37537d_cgraph.png" border="0" usemap="#group___s_e_r_i_a_l___u_s_b_gaa2e0ecafd1fd360064a658479c37537d_cgraph" alt=""/></div>
<map name="group___s_e_r_i_a_l___u_s_b_gaa2e0ecafd1fd360064a658479c37537d_cgraph" id="group___s_e_r_i_a_l___u_s_b_gaa2e0ecafd1fd360064a658479c37537d_cgraph">
<area shape="rect" id="node2" href="group___h_a_l___b_u_f_f_e_r_s.html#ga4f4a4180bc16647e80899247699cdafb" title="Gets the next filled buffer from the queue. " alt="" coords="143,5,249,29"/>
<area shape="rect" id="node3" href="group___h_a_l___b_u_f_f_e_r_s.html#ga517f391c5db3974d78bfab7493d5cbe9" title="Flushes the current, partially filled, buffer to the queue. " alt="" coords="153,53,239,77"/>
<area shape="rect" id="node4" href="group___u_s_b.html#ga68806a465ab83984d4e4fdb335405079" title="Starts a transmit transaction on an IN endpoint. " alt="" coords="143,101,249,125"/>
<area shape="rect" id="node5" href="group___u_s_b.html#gab03273c7bdd1779638ef66bd3b20b2b9" title="Starts a transmit operation on an IN endpoint. " alt="" coords="297,101,393,125"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac9fd9a889dd9b7be13025303589882b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduDataTransmitted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *&#160;</td>
          <td class="paramname"><em>usbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___u_s_b.html#ga0edae452a7b96909ee9c95ba3ca31606">usbep_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default data transmitted callback. </p>
<p>The application must use this function as callback for the IN data endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usbp</td><td>pointer to the <code><a class="el" href="struct_u_s_b_driver.html" title="Structure representing an USB driver. ">USBDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>IN endpoint number </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00433">433</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#ga1643887b4109f0911cc56011abd9f165">CHN_OUTPUT_EMPTY</a>, <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gabaa163d6394c080ca13dbced7120698f">chnAddFlagsI</a>, <a class="el" href="struct_u_s_b_driver.html#ac0b8b6d56aaad37d0cbb0894c855ff07">USBDriver::epc</a>, <a class="el" href="struct_u_s_b_endpoint_config.html#a736e0926ba14499b8a49c580bef62df7">USBEndpointConfig::in_maxsize</a>, <a class="el" href="struct_u_s_b_driver.html#a5923c61079726f3486b66fb25d74ca1e">USBDriver::in_params</a>, <a class="el" href="struct_u_s_b_endpoint_config.html#af1712a56ddee2c8b133435a9d36933f8">USBEndpointConfig::in_state</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga4f4a4180bc16647e80899247699cdafb">obqGetFullBufferI()</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga6ed8626a2cd0efe7a609d83d2d608bb3">obqReleaseEmptyBufferI()</a>, <a class="el" href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f">osalSysLockFromISR()</a>, <a class="el" href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529">osalSysUnlockFromISR()</a>, <a class="el" href="struct_u_s_b_driver.html#a988e3e63fbd49b4492444214cb883c3e">USBDriver::setup</a>, <a class="el" href="struct_u_s_b_in_endpoint_state.html#aaad2fa5a016830b42ecb13e6873bf08f">USBInEndpointState::txsize</a>, and <a class="el" href="group___u_s_b.html#ga68806a465ab83984d4e4fdb335405079">usbStartTransmitI()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_e_r_i_a_l___u_s_b_gac9fd9a889dd9b7be13025303589882b9_cgraph.png" border="0" usemap="#group___s_e_r_i_a_l___u_s_b_gac9fd9a889dd9b7be13025303589882b9_cgraph" alt=""/></div>
<map name="group___s_e_r_i_a_l___u_s_b_gac9fd9a889dd9b7be13025303589882b9_cgraph" id="group___s_e_r_i_a_l___u_s_b_gac9fd9a889dd9b7be13025303589882b9_cgraph">
<area shape="rect" id="node2" href="group___h_a_l___b_u_f_f_e_r_s.html#ga4f4a4180bc16647e80899247699cdafb" title="Gets the next filled buffer from the queue. " alt="" coords="189,5,296,29"/>
<area shape="rect" id="node3" href="group___h_a_l___b_u_f_f_e_r_s.html#ga6ed8626a2cd0efe7a609d83d2d608bb3" title="Releases the next filled buffer back in the queue. " alt="" coords="172,53,313,77"/>
<area shape="rect" id="node5" href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f" title="Enters a critical zone from ISR context. " alt="" coords="181,101,305,125"/>
<area shape="rect" id="node6" href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529" title="Leaves a critical zone from ISR context. " alt="" coords="175,149,310,173"/>
<area shape="rect" id="node7" href="group___u_s_b.html#ga68806a465ab83984d4e4fdb335405079" title="Starts a transmit transaction on an IN endpoint. " alt="" coords="189,197,296,221"/>
<area shape="rect" id="node4" href="group___o_s_a_l.html#gaf09bde5867505af235277e0a888044b8" title="Dequeues and wakes up one thread from the queue, if any. " alt="" coords="361,53,507,77"/>
<area shape="rect" id="node8" href="group___u_s_b.html#gab03273c7bdd1779638ef66bd3b20b2b9" title="Starts a transmit operation on an IN endpoint. " alt="" coords="386,197,482,221"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga68d19dfaea20b824a7bd786981ec2c3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduDataReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *&#160;</td>
          <td class="paramname"><em>usbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___u_s_b.html#ga0edae452a7b96909ee9c95ba3ca31606">usbep_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default data received callback. </p>
<p>The application must use this function as callback for the OUT data endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usbp</td><td>pointer to the <code><a class="el" href="struct_u_s_b_driver.html" title="Structure representing an USB driver. ">USBDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>OUT endpoint number </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00485">485</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

<p>References <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#ga607ba77db1f971c2cd7d5a72f4cfe759">CHN_INPUT_AVAILABLE</a>, <a class="el" href="group___i_o___c_h_a_n_n_e_l.html#gabaa163d6394c080ca13dbced7120698f">chnAddFlagsI</a>, <a class="el" href="group___h_a_l___b_u_f_f_e_r_s.html#ga3e94f93761d76e5b8d75b67ab1bcaa6b">ibqPostFullBufferI()</a>, <a class="el" href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f">osalSysLockFromISR()</a>, <a class="el" href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529">osalSysUnlockFromISR()</a>, <a class="el" href="struct_u_s_b_driver.html#af1e068c7fbb260eda1a99311bd0c2312">USBDriver::out_params</a>, and <a class="el" href="group___u_s_b.html#ga3ccde8ecc9916ae10d114bc42f770901">usbGetReceiveTransactionSizeX</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_e_r_i_a_l___u_s_b_ga68d19dfaea20b824a7bd786981ec2c3b_cgraph.png" border="0" usemap="#group___s_e_r_i_a_l___u_s_b_ga68d19dfaea20b824a7bd786981ec2c3b_cgraph" alt=""/></div>
<map name="group___s_e_r_i_a_l___u_s_b_ga68d19dfaea20b824a7bd786981ec2c3b_cgraph" id="group___s_e_r_i_a_l___u_s_b_ga68d19dfaea20b824a7bd786981ec2c3b_cgraph">
<area shape="rect" id="node2" href="group___h_a_l___b_u_f_f_e_r_s.html#ga3e94f93761d76e5b8d75b67ab1bcaa6b" title="Posts a new filled buffer to the queue. " alt="" coords="174,5,281,29"/>
<area shape="rect" id="node4" href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f" title="Enters a critical zone from ISR context. " alt="" coords="165,53,289,77"/>
<area shape="rect" id="node5" href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529" title="Leaves a critical zone from ISR context. " alt="" coords="160,101,295,125"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#gaf09bde5867505af235277e0a888044b8" title="Dequeues and wakes up one thread from the queue, if any. " alt="" coords="343,5,488,29"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga50c4d3564f437802badcd6b1601f0a7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sduInterruptTransmitted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *&#160;</td>
          <td class="paramname"><em>usbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___u_s_b.html#ga0edae452a7b96909ee9c95ba3ca31606">usbep_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default data received callback. </p>
<p>The application must use this function as callback for the IN interrupt endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usbp</td><td>pointer to the <code><a class="el" href="struct_u_s_b_driver.html" title="Structure representing an USB driver. ">USBDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>endpoint number </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00517">517</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga79a5ed26cb722949eb0c4c0923c69607"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> sduControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_s_b_driver.html">USBDriver</a> *&#160;</td>
          <td class="paramname"><em>usbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control operation on a serial USB port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usbp</td><td>pointer to a <code><a class="el" href="struct_u_s_b_driver.html" title="Structure representing an USB driver. ">USBDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">operation</td><td>control operation code </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">arg</td><td>operation argument</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The control operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MSG_OK</td><td>in case of success. </td></tr>
    <tr><td class="paramname">MSG_TIMEOUT</td><td>in case of operation timeout. </td></tr>
    <tr><td class="paramname">MSG_RESET</td><td>in case of operation reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__serial__usb_8c_source.html#l00537">537</a> of file <a class="el" href="hal__serial__usb_8c_source.html">hal_serial_usb.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun May 13 2018 00:51:42 for ChibiOS/HAL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
